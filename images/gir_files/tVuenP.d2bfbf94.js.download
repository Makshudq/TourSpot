(this.$WP=this.$WP||[]).push(["tVuenP",(e,n)=>{"use strict";var s,u,r,t,i,l,a,c,o,d,p="plus_master_1643231491",_="cash_back_on_plus_native_1632146213",b="plus_bundling_1636650090",v=["plus_is","plus_vf","plus_override_show_funds"],m="HOTEL_CASHBACK",E=e=>{var n=t({experimentKeys:[_,p,b],skipImpression:!0},e),u=[_,p];return"plus_vf"!==(null==n?void 0:n[p])&&"plus_override_show_funds"!==(null==n?void 0:n[p])||u.push(b),t({experimentKeys:u},e),s((()=>null===n?{cashbackEnabled:null,plusBundling:null,isInternalOverride:null}:{cashbackEnabled:"test"===n[_]||"plus_vf"===n[p],plusBundling:"test"===n.plus_bundling_1636650090,isInternalOverride:"plus_override_show_funds"===n[p]}),[n])},h=()=>s((()=>({cashbackEnabled:!1})),[]),f=(e,n,s)=>!("undefined"!=typeof window&&!e)||null===n||null===s,g=(e,n,u)=>{var{cashbackEnabled:r,plusBundling:t,isInternalOverride:i}=E(u),{cashbackEnabled:l}=h(),a=g.checkIfTestIsFetching(e,r,t),c=((e,n,s,u)=>null!==u?u:!(!n&&!s)||e)(!!r,!!i,l,n),o=!!t&&c;return s((()=>({fetching:a,cashbackEnabled:c,plusBundling:o})),[a,o,c])},k=e=>{var[{data:n,fetching:s}]=g.useOptimusSubscription(e),u=(e=>{var n,s=(null==e||null==(n=e.entitlements)?void 0:n.filter(Boolean))||[];return 0===s.length?null:s.includes(m)})(n);return g(s,u,e)},x=(e,n,s)=>{var u=[];e&&u.push(e);var r=c(),i=t({experimentKeys:u,userId:r||void 0,skipImpression:n},s);return e?null===i?{fetching:!0,bucket:null}:{fetching:!1,bucket:i[e]}:{fetching:!1,bucket:null}},O=({experimentKey:e,excludeBucketNames:n,experimentBucketNames:s,isForOptimusMembersFilter:u,skipServiceCalls:r})=>{var{bucket:t}=O.useExperimentBucket(e,r),i=O.useOptimusSubscription();if(null===t)return!1;var l=void 0===u||u===i,a=null==t||!n||!n.includes(t),c=!s||null!=t&&s.includes(t);return a&&c&&l},S=e=>O({experimentKey:p,experimentBucketNames:v,skipServiceCalls:e}),B="global_nav_to_unbounce___1638464717",P=()=>{var e=t({experimentKeys:[B]});return"test"===(null==e?void 0:e[B])},K=(e,n)=>{var u=P(),{cashbackEnabled:r}=k();return s((()=>{var s=new URLSearchParams;return s.append("utm_source",e),s.append("utm_medium",n),u?r?`https://join.plus.tripadvisor.com/startearning/?${s.toString()}`:`https://join.plus.tripadvisor.com/startsaving/?${s.toString()}`:"/Plus"}),[r,u,e,n])},I=e=>{var{eligible:n,subscribed:s}=l(e);return n&&!s},T=["Attraction_Products","AttractionProductsFusion","AttractionProductReview"],y="vf_free_trial_on_exp_1633643226",C=e=>{var n,s=(null==(n=t({experimentKeys:[y]},e))?void 0:n[y])||null,{cashbackEnabled:u}=k(e),r=d(e);return"test 1"===s&&u&&r},A=()=>{var{page:e}=o(),n=!T.includes(e);return C(n)},F="bundled_plus_on_exp_1636164643",R=["Attraction_Products","AttractionsFusion","AttractionProductsFusion","AttractionProductReview"],N=e=>{var n=t({experimentKeys:[F]},e),{cashbackEnabled:s}=k(e),u=d(e);return!(null===n||!s||!u)&&"test"===n[F]},w=()=>{var{page:e}=o(),n=!R.includes(e);return N(n)},L=()=>!1,U="cashback_checkout_variant_test_1634678889",M=()=>{var[e,n]=u(!0),s=t({experimentKeys:[U]});r((()=>{null!==s&&n(!1)}),[s]);var i=null==s?void 0:s[U];return i?{variant:i.toLowerCase(),fetching:e}:{variant:null,fetching:e}},W="plus_filter_offers_for_search_traffic_1645809679",D=()=>{var e=c(),n=t({experimentKeys:[W]});return{shouldSuppress:!e&&"filter_for_search"!==(null==n?void 0:n[W]),fetching:null===n}},G="plus_room_grid_redesign_1642634873",H=()=>{var[e,n]=u(!0),s=t({experimentKeys:[G]});return r((()=>{null!==s&&n(!1)}),[s]),{plusRoomGridRedesign:"test"===(null==s?void 0:s[G])&&!0,fetching:e}};return[()=>{g.useOptimusSubscription=i,g.checkIfTestIsFetching=f,O.useOptimusSubscription=a,O.useExperimentBucket=x,d=I,e({HOTEL_CASHBACK_ENTITLEMENT:m,NATIVE_EXPERIMENT_KEY:_,PLUS_BUCKETS:v,PLUS_BUNDLING_EXPERIMENT_KEY:b,PLUS_MASTER_KEY:p,useBundledPlusOnExperiencesEnabled:N,useBundledPlusOnExperiencesEnabledForPage:w,useCashbackEnabled:k,useCashbackEnabledForMemberType:g,useCashbackEnabledRaw:E,useCashbackEnvConfig:h,useCheckoutVariant:M,useCyberWeekEnabled:L,useExperimentBucket:x,useFreeTrialBannersEnabled:C,useFreeTrialBannersEnabledForPage:A,useIsAnyOptimusExperiment:S,useLoggedOutOptimusSuppression:D,useOptimusExperimentEnabled:O,useOptimusGlobalNavTrafficDiversion:P,useOptimusNavToUnbounce:K,useRoomGridRedesignEnabled:H})},[e=>(s=e.useMemo,u=e.useState,r=e.useEffect),e=>t=e.default,e=>(i=e.useOptimusSubscription,l=e.useOptimusEligibility),e=>a=e.default,e=>c=e.useUserId,e=>o=e.useRoute]]},["cDcdfi","S-RL4Q","BWm3Dg","-WwUo-","ukkKxE","F8raOV"]]);
