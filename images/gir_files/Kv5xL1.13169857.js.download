(this.$WP=this.$WP||[]).push(["Kv5xL1",(e,t)=>{"use strict";var a,l,r,n,i,o,s,u,c,d,p,h,g,m,y,v,b,f,T,R,S,_,N,I,C,k,A,O,L,D,x,E,M,P,w,U,H,V,q,F,j,K,B,G,Q,$,z,W,Z="riJbp _G _H B- _S t u j Cj",X=({styleVariant:e="box",overlayVariant:t="none",placeholderText:a,query:n="",displayedQuery:i="",scope:o={geoId:0},onChange:p=(()=>{}),onOpen:f,onClose:N,onKeyDown:I,onSubmit:C,onResultHovered:k,onResultClicked:A=(()=>{}),isOpen:O=!1,isLoading:L=!1,selectedIndex:D,results:x=[],header:E,headerIndex:M,searchSessionId:P="",testAttribute:w=""})=>{var{localize:U}=T(),H=b(),V=l(null),q=l(null),F=null!=o&&"number"==typeof o.geoId&&o.geoId>1,j=null!=o&&"number"==typeof o.latitude&&"number"==typeof o.longitude,K=d((e=>{e||null==N||(q.current&&q.current.blur(),N())})),B=r((e=>p(e.currentTarget.value)),[p]),G=r((()=>{p(""),q.current&&q.current.focus()}),[p]),Q="MOBILE"===H&&O,$=r((()=>{Q&&q.current&&q.current.blur()}),[Q]);R(Q),u((()=>{var e=q.current,t=V.current;O&&null!=e&&null!=t&&e.focus()}),[O]),c("focusin",(e=>{O&&K.current instanceof Element&&e.target instanceof Element&&!K.current.contains(e.target)&&(null==N||N())})),c("keydown",(e=>{var t;e instanceof KeyboardEvent&&(O||e.target===q.current)&&(null==I||I(e),null==(t=q.current)||t.focus())}));var z=l(null);if(u((()=>{O&&null!=z.current&&z.current.focus()}),[O,D]),"expanding_right"===e&&"MOBILE"===H&&!O)return S("button",{className:`${Z} iZZUW`,title:U.string("common_Search"),"aria-label":U.string("common_Search"),onClick:()=>{window.scrollTo({top:0,behavior:"auto"}),null!=f&&f()},children:S(g,{})});var W=x.map(((e,t)=>{var a;return S(y,{tabIndex:-1,role:"option","aria-selected":t===D,heading:e.title,highlightingInfo:e.highlightingInfo,subheading:e.subtitle,label:e.label,icon:e.icon,image:e.image,imageVariant:e.imageVariant,href:null!=(a=e.url)?a:"",selected:t===D,query:n,onClick:t=>{null==e.onClick||e.onClick(),A(e,t)},onMouseOver:k,ref:t===D?z:void 0},t)}));return null!=M&&null!=E&&W.splice(M,0,S(v,{variant:"label-01",color:"primaryText",marginX:"spacing-04",marginY:"spacing-02",id:"typeahead_results_header",children:E},"header")),_("div",{ref:V,className:s("slvrn Z0 Wh",{rsqqi:O,EcFTp:"box"===e,UfhjQ:"box_narrow"===e,PxcKL:"expanding_right"===e,MPgGB:"expanding_left"===e,zfRKL:"heroSearchNarrow"===t,GADiy:"topCentered"===t}),onTouchMove:$,"data-test-attribute":w,children:[S("div",{className:"RIeZQ",onClick:N}),_("form",{role:"search","aria-busy":L?"true":void 0,className:"hZNMq o",action:"/Search",onInvalid:e=>e.preventDefault(),onSubmit:C,ref:K,children:[S("input",{ref:q,type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",className:s("qjfqs _G B- z _J Cj R0",{UXKdo:0!==n.length}),placeholder:a,title:U.string("common_Search"),role:"searchbox","aria-label":U.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:i,onChange:B,onClick:()=>{f&&f()}}),S("input",{type:"hidden",name:"searchSessionId",value:P}),S("input",{type:"hidden",name:"searchNearby",value:String(j)}),j&&S("input",{type:"hidden",name:"latitude",value:(null==o?void 0:o.latitude)||""}),j&&S("input",{type:"hidden",name:"longitude",value:(null==o?void 0:o.longitude)||""}),F&&S("input",{type:"hidden",name:"geo",value:null==o?void 0:o.geoId}),S("button",{type:"button",className:`${Z} lDGWU`,title:U.string("mobile_back_8e0"),"aria-label":U.string("mobile_back_8e0"),onClick:N,children:S(h,{})}),0!==n.length&&S("button",{type:"button",className:`${Z} DhdpX`,title:U.string("mobile_search_filter_clear_26e8"),"aria-label":U.string("mobile_search_filter_clear_26e8"),onClick:G,children:S(m,{})}),S("button",{type:"submit",formAction:"/Search",className:`${Z} PGlrP`,title:U.string("common_Search"),"aria-label":U.string("common_Search"),tabIndex:-1,children:L?S("svg",{className:"bRKpC",viewBox:"0 0 20 20",children:S("path",{className:"XmVyL",d:"M 10 2 A 8 8 0 1 0 18 10"})}):S(g,{})}),O&&S("div",{id:"typeahead_results",role:"listbox","aria-labelledby":"typeahead_results_header",className:"ROqMU","data-test-attribute":"typeahead-results",children:W})]})]})},Y={__key:59392074389379,id:"36044b7f178388df8e2203ed86df5001",loc:{},definitions:[]},J={__key:0x7a84604bf8da,id:"7a84604bf8da07d67643f0d3dc37c518",loc:{},definitions:[]},ee=(e,t,a=!1)=>{var l,r,n,i,o,{locationV2:s,defaultUrl:u,hotelsUrl:c,attractionOverviewURL:d,restaurantOverviewURL:p}=null!=e?e:{},{locationId:h,placeType:g,isGeo:m,names:y,vacationRentalsRoute:v}=null!=s?s:{};if(null==h||h<=1)return null;if(null!=t&&!0!==m)return null;var b=null!=(l=null!=(r=null!=(n=null!=c?c:d)?n:p)?r:null==v?void 0:v.url)?l:u;return null==b?null:{key:String(h),title:null!=(i=null==y?void 0:y.name)?i:"",subtitle:null==y?void 0:y.longOnlyHierarchyTypeaheadV2,label:a?S(f,{id:"social_mobile_reason_for_sponsored"}):void 0,searchText:null!=(o=null==y?void 0:y.name)?o:"",url:b,trackingType:a?"SPONSORED_LOCATION":"LOCATION",trackingPlaceType:g,locationId:null!=h?h:-1}},te={__key:0xc8f09d1da793,id:"c8f09d1da7931b59aa2dcb94924c1eee",loc:{},definitions:[]},ae=({scope:e,onStopLoading:t})=>{var{localize:a}=T(),i="number"==typeof e.latitude&&"number"==typeof e.longitude,o=((e,t)=>{var{localize:a}=T(),i=I(),o=D(),s=l(!0);return n((()=>()=>{s.current=!1}),[]),r((()=>{navigator.geolocation.getCurrentPosition((({coords:{latitude:a,longitude:l}})=>{E.set("rejectedLocationPermissions",!1);var r=(()=>{switch(e){case"ATTRACTIONS":return{page:"NearbyAttractions",params:{latitude:a,longitude:l}};case"HOTELS":return{page:"NearbyHotels",params:{latitude:a,longitude:l}};case"RESTAURANTS":return{page:"NearbyRestaurants",params:{latitude:a,longitude:l}};case"VACATION_RENTALS":return{page:"NearbyVacationRentals",params:{latitude:a,longitude:l}};default:return{page:"Nearby",params:{isNearby:!0,latitude:a,longitude:l}}}})();o.query(te,r).toPromise().then((({data:e})=>{var a,l;t();var r=null==e||null==(a=e.routes)||null==(l=a[0])?void 0:l.url;null!=r&&i(r)}),(()=>{t()}))}),(e=>{s.current&&t(),e.code!==e.PERMISSION_DENIED&&e.code!==e.TIMEOUT&&e.code!==e.POSITION_UNAVAILABLE||(E.set("rejectedLocationPermissions",!0),alert(a.string("mw_js_positionPermissionDenied")))}),{timeout:6e3})}),[a,i,o,e,t])})(e.linkType,t);return i?null:{title:a.string("mx_nearby"),searchText:a.string("mx_nearby"),icon:M,trackingType:"NEARBY",key:"NEARBY",onClick:o}},le={__key:0xba36aedca592,id:"ba36aedca592c2343f965a37084104c8",loc:{},definitions:[]},re=({isOpen:e,scope:t,sponsorDataProvider:a,getSponsorData:r})=>{var o,s=P(),[u,c]=i(!1),[d,p]=i(r?r():null),h=l(),[g,m]=i(!1);n((()=>{a&&null==d&&(h.current||(h.current=setTimeout((()=>{a((e=>{p(e)})),m(!0)}),6e3)))}),[a,d]),n((()=>()=>clearTimeout(h.current)),[]),n((()=>{a&&null==d&&e&&(g||clearTimeout(h.current),a((e=>{p(e)})))}),[a,d,e,g]);var[{fetching:y,error:v,data:b}]=x({query:le,variables:{locationId:d&&d.location_id||0,isHotelsUrl:!1,isAttractionsUrl:!1,isRestaurantsUrl:!1,isRentalsUrl:!1},pause:!d||!d.location_id||!e});if(y||v)return null;var f=B(null==b||null==(o=b.locations)?void 0:o[0],t.linkType,!0);if(null==f)return null;var{dfpTrackingUrl:T,thirdPartyClickTrackerURL:R}=d||{};return{...f,title:u&&null!=R?_(N,{children:[f.title,S(w,{children:S(U,{title:"",src:R})})]}):f.title,url:null!=f.url&&null!=T?`${T}${new URL(f.url,`https://${s}`).href}`:void 0,onClick:()=>c(!0)}},ne=e=>{var t=q(),a=j(),{page:l}=k(),r=A(),{randomSponsorshipCampaign:n}=F(e),i=p((()=>{n&&a({team:"TAPS",page:l,pageUid:r,itemType:"sponsoredSearchImpression",itemId:String(n.campaignId),itemName:n.sponsorDisplayName,customData:JSON.stringify({campaignType:n.campaignType,clickUrl:n.clickUrl,sponsorId:n.sponsorId})})}));if(!n)return null;var o,{campaignId:s,sponsorId:u,sponsorDisplayName:c,clickUrl:d,campaignType:h}=n,g=124!==n.sponsorId,m={key:String(s),label:g?S(f,{id:"sponsored_search_sponsored_label"}):void 0,url:d,onClick:()=>{t({team:"TAPS",actionType:"click",page:l,pageUid:r,itemType:"sponsoredSearchClick",itemId:String(s),itemName:c,customData:JSON.stringify({campaignType:h,clickUrl:d,sponsorId:u})})}};switch(h){case"ARTICLE":o=((e,t)=>{var{title:a,authors:l}=e;return{title:a,subtitle:l,searchText:a,icon:H,trackingType:t?"SPONSORED_ARTICLE":"ARTICLE"}})(n,g);break;case"GEO":o=((e,t)=>{var{name:a,stateAndCountryOrEquivalent:l}=e;return{title:a,subtitle:l,searchText:a,trackingType:t?"SPONSORED_LOCATION":"LOCATION"}})(n,g);break;case"TRIP":o=((e,t)=>{var{title:a,ownerDisplayName:l}=e;return{title:a,subtitle:l,searchText:a,icon:V,trackingType:t?"SPONSORED_TRIP":"TRIP"}})(n,g);break;default:return null}return{...m,...o,title:S("div",{ref:i,children:o.title})}},ie=({isOpen:e,scope:t,sponsorDataProvider:a,getSponsorData:l,onStopLoading:r})=>{var n=A(),i={isHotelsUrl:"HOTELS"===t.linkType,isAttractionsUrl:"ATTRACTIONS"===t.linkType,isRestaurantsUrl:"RESTAURANTS"===t.linkType,isRentalsUrl:"VACATION_RENTALS"===t.linkType},[{data:s}]=x({query:Y,variables:i,pause:!e}),[{data:u}]=x({query:J,variables:{recentLocationsLimit:"ATTRACTION"===t.pageType||"HOTEL"===t.pageType||"RESTAURANT"===t.pageType?10:5,uid:n,...i},pause:!e}),c=G({scope:t,onStopLoading:r}),d=Q({scope:t,isOpen:e,sponsorDataProvider:a,getSponsorData:l}),p=$(!!a||!e),h=a?d:p,g=o((()=>((null==s?void 0:s.popularDestinations.map((e=>B(e,t.linkType))))||[]).filter(Boolean).slice(0,5)),[s,t.linkType]),m=o((()=>{var e,a;return((null==u||null==(e=u.insightProfile)||null==(a=e.locations)?void 0:a.map((e=>B(null==e?void 0:e.location,t.linkType))))||[]).filter(Boolean).slice(0,5)}),[u,t.linkType]);return o((()=>{var e,t,a=[];return null!=c&&a.push(c),null!=h&&a.push(h),m.length>0?(e=S(f,{id:"dual_search_recently_viewed_all_caps"}),t=a.length,a.push(...m)):g.length>0&&(e=S(f,{id:"dual_search_popular_destinations"}),t=a.length,a.push(...g)),{results:a,header:e,headerIndex:t}}),[c,h,g,m])},oe=({source:e,scope:t,maxItems:a,onClose:o,isOpen:s,onOpen:u,query:c,setQuery:d,searchMode:p="SingleSearch",highlightFirstResult:h=!1,sponsorDataProvider:g,getSponsorData:m})=>{var y,v=k(),b=I(),[f,T]=i(0),[R,S]=i(!1),{results:{results:_,resultsId:N},logTypeaheadOpened:A,logResultSelection:D,logSearchAction:x,searchSessionId:E}=O(c,e,t,p,a),M=r((()=>{S(!1)}),[]),P=z({scope:t,isOpen:s,sponsorDataProvider:g,getSponsorData:m,onStopLoading:M}),w=0===_.length||!c.length||c.length<L,U=w?P.results:_,H=l("");n((()=>{N!==H.current&&(T(Date.now()),H.current=N)}),[N]);var[V,q]=i(null),F=h&&null==V?0:V,j=null!=V&&(null==(y=U[V])?void 0:y.searchText)||c,K=r(((e,t)=>{D(t,w,e,U.findIndex((t=>t.key===e.key)),f)}),[U,D,f,w]),B=r((e=>{if(null!=e){if(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;if(C(v)&&v.path===e.currentTarget.pathname)return void(null!=o&&o())}S(!0)}),[v,o]),G=r((e=>{s&&!e||(u&&u(),q(null),A(),T(Date.now()))}),[u,s,A]),Q=r((()=>{s&&(q(null),o&&o())}),[s,o]),$=r((e=>{d(e),q(null),e.length>=L&&G()}),[d,G]),W=r((t=>{switch(t.keyCode){case 38:s?q((e=>null==e?U.length-1:e>0?e-1:null)):G(),t.preventDefault();break;case 40:s?q((e=>null==e?0:e<U.length-1?e+1:null)):G(),t.preventDefault();break;case 13:var a=null!=F?U[F]:null;null==a&&"SRP_SINGLE_SEARCH"===e?(Q(),t.preventDefault()):null!=a&&(K(a,"enter"),!1===t.defaultPrevented&&(null==a.onClick||a.onClick(),null!=a.url&&b(a.url)&&S(!0),t.preventDefault()));break;case 27:Q(),t.preventDefault()}}),[b,s,F,U,Q,G,K,e]),Z=r((()=>{x(f),S(!0)}),[x,f]),X=r((()=>{q(null)}),[]),Y=r(((e,t)=>{K(e,"click"),B(t)}),[K,B]);return{displayedQuery:j,isLoading:R,results:U,header:w?P.header:void 0,headerIndex:w?P.headerIndex:void 0,selectedIndex:F,searchSessionId:E,onResultHovered:X,onResultClicked:Y,onOpen:G,onClose:Q,onSubmit:Z,onChange:$,onKeyDown:W}},se={HOTEL:["Hotels","MobileHotels","Hotel_Review","MobileHotel_Review","HotelHighlight","MobileHotelHighlight","SmartDeals","MobileSmartDeals","HotelsList","MobileHotelsList","HotelsNear","MobileHotelsNear","NearbyHotels","MobileNearbyHotels","HotelSearch","LastMinute","TravelersChoiceHotels","ShowUserReviewsHotels"],ATTRACTION:["Attractions","MobileAttractions","Attractions_Coverpage","Attraction_Review","MobileAttraction_Review","AttractionsNear","AttractionProductReview","MobileAttractionProductReview","MobileAttractionsNear","Attraction_Products","MobileAttraction_Products","AttractionReviewSearch","MobileAttractionReviewSearch","NearbyAttractions","MobileNearbyAttractions","ShowUserReviewsAttractions","TravelersChoiceAttractions"],RESTAURANT:["Restaurants","MobileRestaurants","Restaurant_Review","MobileRestaurant_Review","RestaurantSearch","MobileRestaurantSearch","RestaurantsNear","MobileRestaurantsNear","RestaurantMenu","MobileRestaurantMenu","NearbyRestaurants","MobileNearbyRestaurants","TravelersChoiceRestaurants","ShowUserReviewsRestaurants"],FORUM:["ShowTopic","ShowForum","ListForums","ForumHome"]},ue={},ce=({source:e,maxItems:t=10,styleVariant:a,overlayVariant:l,placeholderText:o,initialQuery:s="",hidden:u,onClose:c,scope:d,sponsorDataProvider:p,getSponsorData:h,closeOnResultClicked:g,searchMode:m="SingleSearch",isModalOnly:y=!1,highlightFirstResult:v=!1})=>{var[b,f]=i(y),T=r((()=>{y||f(!1),c&&c()}),[c,y]),R=r((()=>{y||f(!0)}),[y]),[_,N]=i(s),I=W({source:e,maxItems:t,scope:d,searchMode:m,onOpen:R,onClose:T,isOpen:b,query:_,setQuery:N,highlightFirstResult:v,sponsorDataProvider:p,getSponsorData:h}),{onOpen:C}=I;return n((()=>{y&&null!=C&&C(!0)}),[y,C]),u&&!b?null:S(K,{...I,onResultClicked:(e,t)=>{g&&T(),null==I.onResultClicked||I.onResultClicked(e,t)},styleVariant:a,overlayVariant:l,placeholderText:o,query:_,scope:d,isOpen:b,testAttribute:`typeahead-${e}`})};return[()=>{K=a(X),B=ee,G=ae,Q=re,$=ne,z=ie,W=oe,Object.entries(se).forEach((([e,t])=>t.forEach((t=>{ue[t]=e})))),e({default:a(ce),pageToTypeMappings:ue})},[e=>(a=e.memo,l=e.useRef,r=e.useCallback,n=e.useEffect,i=e.useState,o=e.useMemo),e=>s=e.default,e=>u=e.useClientSideLayoutEffect,e=>c=e.useWindow,e=>(d=e.useVisibleEffect,p=e.useOnVisible),e=>h=e.default,e=>g=e.default,e=>m=e.default,e=>y=e.default,e=>v=e.default,e=>b=e.useViewportCategory,e=>(f=e.default,T=e.useLocalize),e=>R=e.useBlockScroll,e=>(S=e.jsx,_=e.jsxs,N=e.Fragment),e=>I=e.useNavigate,e=>C=e.isRoutable,e=>(k=e.useRoute,A=e.usePageviewUid),e=>(O=e.default,L=e.MIN_QUERY_LENGTH),e=>(D=e.useClient,x=e.useQuery),e=>E=e.default,e=>M=e.default,e=>P=e.useDomainName,e=>w=e.ConsentGate,e=>U=e.Pixel,e=>H=e.default,e=>V=e.default,e=>q=e.useInteractionV3Logger,e=>F=e.useRandomSponsorshipCampaign,e=>j=e.useImpressionV3Logger]]},["cDcdfi","jSLlaY","4Z07E2","Dg5_-9","PUj9cw","j6P7_e","zeV7p9","2x7WI3","L2wXtu","VP50Wc","oVKaZR","0DsHEV","xegF5W","F5FCuN","1yEXVQ","jmIMrC","F8raOV","ABlMo4","5X2em-","qKFflQ","3LpzHo","xDNC3X","lMO0v3","m5ZZFI","VFxuhb","mhckab","fsml46","trd6PC","30t50h"]]);
