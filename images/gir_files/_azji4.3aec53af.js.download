(this.$WP=this.$WP||[]).push(["_azji4",(e,r)=>{"use strict";var a,t,l,i,n,o,d,u,s,c,g,m,I,b,p,y,O,C,v,f=({businessContact:e,mobileOffer:r,desktopOffer:a,adSlot:t,albumId:l,categoryId:i,typeId:n,mediaId:o,referenceMediaId:d,locationId:u,locationName:s,secondaryTitleContent:c,actionHandler:g,enablePopupFooter:m,hideMASQuickAlbums:b,disableControls:C,getShareUrlForMedia:v,galleryRenderer:f,fullscreenRenderer:S,sort:R,customMobileButtonMenus:h,quickAlbumsConfiguration:k,queryClientOverride:M,heroDataStrategyOverride:A,pageDataStrategyOverride:E,trackingCallback:L})=>p(I,{mobileRenderer:()=>p(O,{businessContact:e,offer:r,actionHandler:g,categoryId:i,albumId:l,typeId:n,mediaId:o,referenceMediaId:d,locationId:u,locationName:s,getShareUrlForMedia:v,scrollHideCommerce:m,skipQuickAlbums:b,disableControls:C,customButtonMenus:h,galleryRendererOverride:f,fullscreenRendererOverride:S,sort:R,quickAlbumsConfiguration:k,queryClientOverride:M,heroDataStrategyOverride:A,pageDataStrategyOverride:E,trackingCallback:L}),desktopRenderer:()=>p(y,{businessContact:e,offer:a,adSlot:t,actionHandler:g,categoryId:i,albumId:l,typeId:n,mediaId:o,referenceMediaId:d,locationId:u,locationName:s,secondaryTitleContent:c,getShareUrlForMedia:v,skipQuickAlbums:b,disableControls:C,galleryRendererOverride:f,fullscreenRendererOverride:S,sort:R,quickAlbumsConfiguration:k,queryClientOverride:M,heroDataStrategyOverride:A,pageDataStrategyOverride:E,trackingCallback:L})}),S={__key:0x74c106466555,id:"74c1064665550e03a6066eb316ca0a97",loc:{},definitions:[]},R=e=>{var r=(null==e?void 0:e.albumId)||c;return d({albumId:r,mediaId:null==e?void 0:e.mediaId,categoryId:r})},h=e=>{var{locationId:r,initialSettings:a,hideHeaderControls:d,hideMASQuickAlbums:c,mobilePortraitFooterSlot:I,enablePopupAnimationMobilePortraitFooter:b,mobileLandscapeHeaderSlot:y,desktopHeaderRightSlot:O,businessContact:f,leftRailSlot:h,onClose:k,actionHandler:M,getShareUrlForMedia:A,galleryRenderer:E,fullscreenRenderer:L,customMobileButtonMenus:T,routeFragmentIdentifier:F,queryClientOverride:N,heroDataStrategyOverride:_,pageDataStrategyOverride:D,quickAlbumsConfiguration:w,trackingCallback:H,numberOfReviews:U,averageRating:q}=e,[B,P]=t({isOpen:!1,shouldToggle:!1,lock:!1,hasOpened:!1}),G=l(((e,r)=>{try{null==M||M(r)}catch(e){r.type}switch(r.type){case"ROUTE_NAVIGATE":return{...r.newState,sort:e.sort};case"ALBUM":return{...e,albumId:r.albumId,typeId:u(),categoryId:r.categoryId?r.categoryId:r.albumId,mediaId:null};case"FULLSCREEN_NAV":case"GALLERY_CLICK":return r.newMedia.media?{...e,mediaId:{id:r.newMedia.media.mediaId,type:r.newMedia.media.type}}:e;case"FULLSCREEN_CLOSE":return{...e,mediaId:null};case"CATEGORY_CHANGE":return{...e,categoryId:r.categoryId};case"SOURCE_CHANGE":return{...e,typeId:r.typeId};case"INVALIDATE_REFERENCE_MEDIA":return{...e,mediaId:null};case"SORT":return{...e,sort:r.sort};case"CLOSE":return P((e=>e.isOpen?{...e,isOpen:!0,shouldToggle:!0}:e)),e;case"ERROR":return v;default:return e}}),[M]),[Q,j]=i(G,R(a)),W=null!=F,{clearFragment:V,initialRouteState:x}=g(r,W&&B.isOpen?Q:null,F,j);n((()=>{a&&!B.isOpen&&(j({type:s.routeNavigate,newState:R(a)}),P((e=>({...e,isOpen:!1,shouldToggle:!0}))))}),[a,P,B]),n((()=>{!W||!x||a||B.isOpen||B.hasOpened||B.lock||(j({type:s.routeNavigate,newState:x}),P((e=>({...e,isOpen:!1,shouldToggle:!0}))))}),[W,x,a,B,P]),n((()=>{B.shouldToggle&&(B.isOpen&&B.lock?P((e=>({...e,isOpen:!1,shouldToggle:!1,lock:!1}))):B.isOpen||B.lock||P({isOpen:!0,shouldToggle:!1,lock:!0,hasOpened:!0}))}),[B,P]),n((()=>{B.isOpen&&B.shouldToggle&&(W&&V(),k&&k())}),[B,k,W,V]);var z=e=>e&&y?y():!e&&I?I():null;if(!B.isOpen)return null;var K=(null==a?void 0:a.albumId)||(null==x?void 0:x.albumId),Y=(null==a?void 0:a.mediaId)||(null==x?void 0:x.mediaId);return p(o,{query:S,variables:{locationId:r},children:({data:e})=>{var a,t,l,i,n=null==e||null==(a=e.locations)||null==(t=a[0])?void 0:t.name,o=null==e||null==(l=e.locations)||null==(i=l[0])?void 0:i.reviewSummary,u=null!=q?q:null==o?void 0:o.rating,s=null!=U?U:null==o?void 0:o.count,g=u&&u>=0&&s&&s>0;return p(C,{enablePopupFooter:b,businessContact:f,mobileOffer:(y||I)&&z,desktopOffer:O,adSlot:h,albumId:Q.albumId,categoryId:Q.categoryId,typeId:Q.typeId,mediaId:Q.mediaId,referenceMediaId:Q.albumId===K?Y:null,locationId:r,locationName:n,secondaryTitleContent:o&&g?p(m,{rating:q||o.rating||0,numReviews:U||o.count||0}):void 0,actionHandler:j,hideMASQuickAlbums:c,disableControls:d,getShareUrlForMedia:A,galleryRenderer:E,fullscreenRenderer:L,sort:Q.sort,customMobileButtonMenus:T,quickAlbumsConfiguration:w,queryClientOverride:N,heroDataStrategyOverride:_,pageDataStrategyOverride:D,trackingCallback:H})}})};return[()=>{y=b((()=>r("_azji4/2W3VxO")),"default"),O=b((()=>r("_azji4/5MBwjL")),"default"),C=a(f),v=R(),e("default",a(h))},[e=>(a=e.memo,t=e.useState,l=e.useCallback,i=e.useReducer,n=e.useEffect),e=>o=e.Query,e=>(d=e.buildDefaultState,u=e.getCurrentAllMediaGroupTypeId,s=e.actions,c=e.ALL_ALBUM),e=>g=e.useRouteHandler,e=>m=e.BubbleRatingWithReviewCount,e=>I=e.default,e=>b=e.onComponentUsage,e=>p=e.jsx]]},["cDcdfi","5X2em-","wc54S1","eh0n4_","MBK0so","RZRW7o","pLbCP4","F5FCuN"]]);
