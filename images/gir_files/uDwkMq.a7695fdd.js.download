(this.$WP=this.$WP||[]).push(["uDwkMq",(e,a)=>{"use strict";var i,r,l,t,n,o,u,s,c,d,m,h,p,v,g,_,f,b,C,N,T,k,y,S=(e,a)=>{var{state:r,update:l}=i(T),n=r[e];t((()=>{n.isDirty||n.value===a||l(e,{value:a})}),[e,a,l])},P=({initialFirstName:e="",initialLastName:a="",initialEmail:t="",initialPhoneNumber:P="",initialPhoneCountryCode:O="",checkoutType:x,onChangeCallback:w,isModal:E,allowEmailEdit:L=!1,freeTrialSubscription:D=!1,optimusCashbackSelected:I=!1,toggleCashbackRewardSMSOptIn:F,isCashbackRewardSMSOptIn:A=!1,showLoginPrompt:B=!1,bookingFlow:V})=>{var{state:{firstName:M,lastName:R,phoneNumber:H,email:U,countryPhoneCode:j},update:q}=i(T),z=w?(e,a)=>{w(),q(e,a)}:q,{localize:K}=p(),$=O?`+${O}`:null,[W,Y]=r(M.value),[J,Z]=r(R.value),[G,Q]=r(H.value),[X,ee]=r(U.value),[ae,ie]=r($||j.value||"+1"),re=m(),le=re.map((({label:e,regionISOCode:a})=>({displayName:e,value:a}))),te=u(),{funnelKey:ne}=i(s),oe=v(),ue=g(),se=l((e=>{var a={formFieldChange:{funnelKey:ne,pageviewUid:te,formName:"TravelerDetails",fieldName:e.field}};switch(x){case"STANDALONE":case"OptimusCurationShopping":ue({OptimusStandaloneCheckout:a});break;case"HOTEL":ue({OptimusHotelCheckout:a})}}),[x,ne,ue,te]),ce=l((()=>{var i=[{fieldName:"firstName",isPrefilled:!!e},{fieldName:"lastName",isPrefilled:!!a},{fieldName:"email",isPrefilled:!!t},{fieldName:"phoneNumber",isPrefilled:!!P}],r=i.some((e=>e.isPrefilled));x&&oe({optimusCheckoutForm:{flow:"OptimusCurationShopping"===x?"STANDALONE":x,funnelKey:ne,pageviewUid:te,formName:"TRAVELERDETAILS",isPrefilled:r,formFields:i}})}),[x,ne,oe,e,a,t,P,te]),de=n(ce);S("firstName",e),S("lastName",a),S("email",t),S("phoneNumber",P),S("countryPhoneCode",ae);var{regionISOCode:me}=re.find((e=>e.regionPhoneCode===O))||{},{regionISOCode:he}=re.find((e=>e.regionPhoneCode===ae))||{};S("countryISOCode",$?me:he);var pe=E?"supporting-03":"title-05";return k("div",{ref:de,children:y("form",{children:[k(o,{variant:E?"title-04":"title-03",elementType:"h2",marginBottom:"spacing-04",children:k(h,{id:"plus_checkout_traveler_details_heading"})}),B&&k(c,{marginBottom:"spacing-04",children:k(N,{messagingVariant:"subscriber",view:"CHECKOUT",flow:x,bookingFlow:V})}),y(d,{space:"spacing-03",children:[y(c,{display:"flex",flexDirection:["column","column","row"],alignItems:"stretch",children:[k("div",{className:"F-",children:k(b,{id:"tdf-first",label:k(o,{variant:pe,children:k(_,{children:k(h,{id:"plus_checkout_first_name_field"})})}),type:"text",value:M.value,onChange:e=>z("firstName",{value:e.currentTarget.value}),errorText:M.isError?K.string("plus_checkout_error_state_first_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==W&&(se({field:"FirstName"}),Y(e.currentTarget.value)),q("firstName",{isDirty:!0})}})}),k(c,{marginTop:"spacing-03",marginLeft:"spacing-03"}),k("div",{className:"F-",children:k(b,{id:"tdf-last",label:k(o,{variant:pe,children:k(_,{children:k(h,{id:"plus_checkout_last_name_field"})})}),type:"text",value:R.value,onChange:e=>z("lastName",{value:e.currentTarget.value}),errorText:R.isError?K.string("plus_checkout_error_state_last_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==J&&(se({field:"LastName"}),Z(e.currentTarget.value)),q("lastName",{isDirty:!0})}})})]}),y(d,{space:"spacing-01",children:[k(b,{id:"tdf-phone",label:k(o,{variant:pe,children:k(_,{children:k(h,{id:"plus_checkout_phone_number_field"})})}),type:"tel",value:H.value,onChange:e=>z("phoneNumber",{value:e.currentTarget.value}),errorText:H.isError?K.string("plus_checkout_error_state_phone_number"):void 0,onBlur:e=>{e.currentTarget.value!==G&&(se({field:"PhoneNumber"}),Q(e.currentTarget.value)),q("phoneNumber",{isDirty:!0})},menuLabel:K.string("createlisting_phone_country_label"),dropdownValue:ae,dropdownPlaceholder:ae,dropdownOptions:le,onDropdownChange:e=>{var[a]=re.filter((a=>a.regionISOCode===e)),{regionISOCode:i,regionPhoneCode:r}=a||{},l=`+${r}`;ie(l),z("countryPhoneCode",{value:l}),z("countryISOCode",{value:i})}}),I&&k(C,{value:"cashbackRewardSMSOptIn",checked:A,label:k(o,{variant:"supporting-01",color:"secondaryText",children:k(h,{id:"optimus.checkout.vf_sms_opt_in_checkbox"})}),onToggle:F})]}),k(f,{children:k(b,{id:"tdf-email",label:k(o,{variant:pe,children:L?k(_,{children:k(h,{id:"plus_checkout_email_field"})}):k(h,{id:"plus_checkout_email_field"})}),type:"email",value:U.value,onChange:e=>z("email",{value:e.currentTarget.value}),errorText:U.isError?K.string("plus_checkout_error_state_email"):void 0,onBlur:e=>{e.currentTarget.value!==X&&(se({field:"Email"}),ee(e.currentTarget.value)),q("email",{isDirty:!0})},helperText:(()=>{var e;if(null!=(e=U.value)&&e.length)return"HOTEL"===x?K.string("plus_checkout_hotel_email_disclaimer_text",{email:U.value}):D?K.string("plus_free_trial_checkout_membership_email_disclaimer_text",{email:U.value}):K.string("plus_checkout_subscription_email_disclaimer_text",{email:U.value})})(),readOnly:!L})})]})]})})};return[()=>{e("default",P)},[e=>(i=e.useContext,r=e.useState,l=e.useCallback,t=e.useEffect),e=>n=e.useOnVisible,e=>o=e.default,e=>u=e.usePageviewUid,e=>s=e.FunnelTracking,e=>(c=e.Box,d=e.Stack),e=>m=e.useCountryCodeValues,e=>(h=e.default,p=e.useLocalize),e=>v=e.useImpressionLogger,e=>g=e.useInteractionLogger,e=>(_=e.RequiredLabel,f=e.SensitiveInformationBlocker),e=>b=e.TextInput,e=>C=e.Checkbox,e=>N=e.MemberLoginPrompt,e=>T=e.TravelerDetails,e=>(k=e.jsx,y=e.jsxs)]]},["cDcdfi","PUj9cw","VP50Wc","F8raOV","ETqDaL","SzaY02","o3YDt_","0DsHEV","30t50h","fsml46","AFIA6D","7bbexq","MsxLpS","mT-Pb2","LzjZ7J","F5FCuN"]]);
