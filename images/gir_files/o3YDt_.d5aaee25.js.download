(this.$WP=this.$WP||[]).push(["o3YDt_",(e,o)=>{"use strict";var n,r,t,a,u,l,d,i,h,c=null,s=null,C=()=>{s=null},g=(e,o)=>{var n=new URLSearchParams({phoneNumber:e,region:o});return fetch(`/data/1.0/vr/validatePhoneNumber?${n.toString()}`,{method:"GET",credentials:"same-origin"}).then((e=>e.json())).then((e=>e))},p="setData",v=(e,o)=>{var{type:n,value:r}=o;switch(n){case p:return{...e,data:r};default:return e}},m=e=>{var[{data:o},n]=t(v,e);return[o,e=>{n({type:p,value:e})}]},y=(e=!1)=>{var[o,n]=a(!1),[r,t]=a(!1),[l,i]=d({data:[]}),h=e=>{n(!1),i(e.options||[])},g=()=>{n(!1),t(!0)};return u((()=>()=>{e&&C()}),[e]),{data:l,fetching:o,error:r,clearCache:C,fetchCodes:()=>(n(!0),t(!1),new Promise(((e,o)=>e(s||c||(c=fetch("/data/1.0/vr/countryRegionCodesForPhone",{method:"GET",credentials:"same-origin"}).then((e=>e.json().then((e=>(c=null,s=e,e))).catch((e=>(console.error(e.message),o(e)))))))))).then(h).catch(g))}},f=(e,o)=>{var{data:n,fetchCodes:r,fetching:t,error:a}=i(o),l=e&&e.length?e:n.map((e=>{var o,n;return{regionISOCode:(null==e||null==(o=e.countryValue)?void 0:o.countryRegionCode)||"",regionPhoneCode:(null==e||null==(n=e.countryValue)?void 0:n.countryPhoneCode)||"",label:(null==e?void 0:e.countryCodeDropDownValue)||""}}));return u((()=>{l.length||t||a||r()}),[a,t,l.length,r]),l},P=({value:e,onChange:o,onFocus:t=(()=>{}),onBlur:a=(()=>{}),options:u,hideAutoComplete:d,autoCompleteIdentifier:i,hasError:c,errorText:s})=>{var{phone:C="",countryISOCode:g}=e||{},{localize:p}=n(),v=h(u),m=v.map((({label:e,regionISOCode:o})=>({displayName:e,value:o}))),[y]=v.filter((e=>e.regionISOCode===g)),{regionISOCode:f,regionPhoneCode:P}=y||{};return l(r,{dropdownValue:P?`+${P}`:void 0,dropdownOptions:m,onDropdownChange:e=>{var[n]=v.filter((o=>o.regionISOCode===e)),{regionISOCode:r,regionPhoneCode:t}=n||{};o({phone:C,countryISOCode:r,countryPhoneCode:t})},dropdownPlaceholder:"+1",menuLabel:p.string("createlisting_phone_country_label"),name:"phone-number",value:C,onFocus:t,onBlur:a,onChange:e=>{o({countryISOCode:f,countryPhoneCode:P,phone:e.currentTarget.value})},placeholder:p.string("createlisting_phone_placeholder"),autoComplete:d?"off":i||"on",errorText:c?s:void 0})};return[()=>{d=m,i=y,e({PhoneInput:P,useCountryCodeValues:h=f,validatePhone:g})},[e=>n=e.useLocalize,e=>r=e.TextInput,e=>(t=e.useReducer,a=e.useState,u=e.useEffect),e=>l=e.jsx]]},["0DsHEV","7bbexq","cDcdfi","F5FCuN"]]);
