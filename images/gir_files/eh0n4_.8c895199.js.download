(this.$WP=this.$WP||[]).push(["eh0n4_",(e,t)=>{"use strict";var a,r,u,l,s,n,i,d,c,m,g="/media/",o=(e,t,a)=>{var r,u=`${a}${e}`,l=!1;return u+=(r=t.mediaId)?`/${r.id}:${r.type||"u"}`:"",(t.albumId||t.typeId||t.categoryId)&&(u+="/?",l=!0),l&&((t.albumId||0===t.albumId)&&(u+=`albumid=${t.albumId}&`),(t.typeId||0===t.typeId)&&(u+=`type=${t.typeId}&`),(t.categoryId||0===t.categoryId)&&(u+=`category=${t.categoryId}&`),"&"===u.substring(u.length-1)&&(u=u.substring(0,u.length-1))),u},I=(e,t)=>{var a=e.split("/");a.splice(0,2);var r,u,l,s,n,i=null,d=null,m="u";switch(a.length){case 0:break;case 1:[i]=a;break;case 2:a[1].indexOf("=")>0?[i,n]=a:[i,d]=a;break;case 3:[i,d,n]=a;break;default:[i,d,n]=a}if(null!=n){var g=new URLSearchParams(n);g.has("albumid")&&(u=g.get("albumid")),g.has("type")&&(l=g.get("type")),g.has("category")&&(s=g.get("category"))}if(null!=d){var o=d.split(":");r=Number(o.shift()),m=o.shift()}return{locationId:Number(i),state:{mediaId:null!=r?{id:r,type:c(m)}:null,albumId:Number(u),typeId:Number(l),categoryId:Number(s),sort:t}}},y=(e,t,c,y)=>{var{fragment:b}=i(),f=d(),p=e||0,h=a(t),v=a(b),N=null!=c&&""!==c?`/media-${c}/`:g,{sort:$}=t||{},F=r((()=>b&&b.startsWith(N)?I(b,$):null),[b,N,$]),[P,R]=u(null==F?void 0:F.state);return l((()=>{P&&!F?R(null):!P&&F&&R(F.state)}),[F,P]),l((()=>{var e=!n(h.current,t),a=v.current!==b;if(a&&!e)b&&!b.startsWith(N)?y({type:m.close}):F&&y({type:m.routeNavigate,newState:F.state});else if(!a&&e){var r=t?o(p,t,N):"";if(r!==b){var u=((e,t)=>null===e&&null!==t||(null==e||!e.mediaId)&&null!=t&&t.mediaId?"FRAGMENT_PUSH":"IN_PLACE")(h.current,t);f(r,u)}}h.current=t,v.current=b}),[t,b,N,F,f,p,y]),{clearFragment:s((()=>{b&&f("","IN_PLACE")}),[b,f]),initialRouteState:P}};return[()=>{e({defaultFragmentPrefix:g,generateFragmentRoute:o,getStateFromFragment:I,useRouteHandler:y})},[e=>(a=e.useRef,r=e.useMemo,u=e.useState,l=e.useEffect,s=e.useCallback),e=>n=e.default,e=>(i=e.useRoute,d=e.useNavigateToFragment),e=>(c=e.validateMediaType,m=e.actions)]]},["cDcdfi","YwNsO_","F8raOV","wc54S1"]]);
