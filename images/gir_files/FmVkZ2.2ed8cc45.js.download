(this.$WP=this.$WP||[]).push(["FmVkZ2",(e,i)=>{"use strict";var o,t,a,n,r,s,l,m,p,c,d,u,g,_,h,v,w,y,k,f,A,C,N,P,b,D,I=({inlineCtaLink:e,osFamily:i,code:a,onClose:n,geoId:r,sticky:s=!0})=>{var l="ANDROID"===i||"IOS"===i,k="MOBILE"===u(),f=d(),D=o((()=>{f({itemName:"SummerAppDiscountPromo",actionType:"other"})}),[f]),I=o((()=>{f({itemName:l?C:A,actionType:"click"})}),[f,l]),S=o((()=>{f({itemName:N,actionType:"click"})}),[f]),T=o((()=>{f({itemName:P,actionType:"click"}),n()}),[f,n]),x=o((()=>{f({itemName:b,actionType:"click"})}),[f]),E=w("div",{className:"GgmgJ GA _Z I Ma Ni MA NM"}),F=w(g,{source:[{url:"/img2/banners/PromoCode_mobile.png",height:179,width:79}],height:179,width:79}),L=y(h,{size:k?"medium":"large",onClick:e=>{if(e.stopPropagation(),I(),l){e.stopPropagation();var o=setTimeout((()=>{window.location.href="/app"}),25),t=e=>(clearTimeout(o),window.removeEventListener("visibilitychange",t),e.preventDefault(),!1);"ANDROID"===i?(window.addEventListener("visibilitychange",t),window.location.href=`tripadvisor:///Attractions-g${r}`):"IOS"===i&&(window.addEventListener("visibilitychange",t),window.location.href=`tripadvisor://www.tripadvisor.com/Attractions-g${r}`)}else window.location.href="/app"},children:[l&&w(c,{id:"Shop_now_promo"})," ",!l&&w(c,{id:"get_the_app"})," "]}),R=y("a",{className:"RwpkA I _F G- Wb",href:e,onClick:S,children:[w(v,{}),w(c,{id:"promo_code_banner_terms_apply"})," "]});t((()=>{D()}),[D]);var V=w(p,{size:"small",marginRight:k?"spacing-00":"spacing-02",stringCode:a,onCopy:x,text:y(_,{marginRight:"spacing-01",elementType:"span",variant:k?"title-05":"title-03",children:[w(c,{id:"promo_code_banner_cta_text"})," "]}),code:w(_,{variant:k?"title-05":"title-03",children:a})}),G=w(_,{variant:k?"title-04":"title-03",marginTop:k?"spacing-03":void 0,marginRight:k?"spacing-06":"spacing-02",children:w(c,{id:"promo_code_banner_title"})});return w(m,{image:k?F:E,backgroundColor:"yellowBackground",text:k?G:y("div",{className:"GNzsi u K",children:[G,V,R]}),inlineCta:k&&R,promotionalCode:k&&y("div",{className:"LUFiB k K",children:[V,L]}),button:L,isMobile:k,onClose:T,sticky:s})},S="nativeAppCampaignBanner",T=({sticky:e=!0})=>{var{isNativeAppPromoEnabled:i}=k(),[o,t]=a((()=>i&&!f.has(S))),m=null!=l(),{os:p}=s(),{params:c}=r(),d=p.family,u="geoId"in c&&c.geoId||1,g=m?"exp_summer_campaign___members_1654095480":"exp_summer_campaign___non_members_1654522951",_=n({experimentKeys:[g]},!i);return"test"===(null==_?void 0:_[g])&&o?w(D,{inlineCtaLink:"/app",code:"APP10",sticky:e,onClose:()=>{f.set(S,{},432e5),t(!1)},osFamily:d,geoId:u}):null};return[()=>{A="SummerAppDiscountPromo_GetApp",C="SummerAppDiscountPromo_ShopNow",N="SummerAppDiscountPromo_TermsApply",P="SummerAppDiscountPromo_Close",b="SummerAppDiscountPromo_PromoCode",D=I,e("default",T)},[e=>(o=e.useCallback,t=e.useEffect,a=e.useState),e=>n=e.default,e=>r=e.useRoute,e=>s=e.useUserAgent,e=>l=e.useUserId,e=>(m=e.PromotionalToast,p=e.PromotionalCode),e=>c=e.default,e=>d=e.useInteractionV3Logger,e=>u=e.useViewportCategory,e=>g=e.default,e=>_=e.default,e=>h=e.default,e=>v=e.default,e=>(w=e.jsx,y=e.jsxs),e=>k=e.useNativeAppFeatureGate,e=>f=e.default]]},["cDcdfi","S-RL4Q","F8raOV","slAn47","ukkKxE","q8QEXK","0DsHEV","fsml46","oVKaZR","BgJkqv","VP50Wc","7yGKf-","bOsokU","F5FCuN","puod6V","jaCyxS"]]);
