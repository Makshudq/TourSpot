(this.$WP=this.$WP||[]).push(["U-DhDC",(e,s)=>{"use strict";var t,i,o,r,n,a,c,l,d,u,v,p,S,C={tripId:0},w={__key:0xa83a4bcee22c,id:"a83a4bcee22c4b5195e55911b4ff5e57",loc:{},definitions:[]},m={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},h=e=>e&&m[e]?m[e].toUpperCase():void 0,k=e=>e&&(h(e)||h(e.replace(/^Mobile/,""))),O=({source:e,pageAsContext:s,saveObject:n,trackingContext:a,withSaveSession:c,withOrganizeSession:l})=>{var{page:u}=o(),{sessionUuid:S,sessionOrder:C,incrementOrder:m}=t.useContext(d),{sessionUuid:h,sessionOrder:O,incrementOrder:R}=t.useContext(v),f=t.useContext(r).impressionId||"",U=a||s&&u||void 0,{id:x,type:g}=n||{},{tripId:H}=t.useContext(p),T=t.useMemo((()=>({detailId:x?`${x}`:void 0,saveType:g,tripId:H})),[x,g,H]),A=t.useMemo((()=>c?{sessionType:"SAVE",sessionUuid:S,sessionOrder:C}:l?{sessionType:"ORGANIZE",sessionUuid:h,sessionOrder:O}:null),[O,h,C,S,l,c]),[,L]=i(w);return[t.useCallback(((s,t)=>{var i;c?m():l&&R();var o=T;t&&(o={detailId:`${t.id}`,saveType:t.type});var r,n,a=window.location.pathname,d="Unknown"===U?(null==(i=a.match(/^\/([a-zA-Z0-9_]+)/))?void 0:i[1])||"Home":U,u={elementClick:s.elementClick&&{puid:f,...o,context:d,...A,...s.elementClick},filterClick:s.filterClick&&{puid:f,...s.filterClick},modalSuccess:s.modalSuccess&&{puid:f,...T,context:d,...A,...s.modalSuccess},overflowClick:s.overflowClick&&{puid:f,...s.overflowClick,...A},overflowSuccess:s.overflowSuccess&&{puid:f,...A,...T,...s.overflowSuccess},linkReferenceClick:s.linkReferenceClick&&{puid:f,...s.linkReferenceClick}};return L({interaction:{[e]:(r=u,n=r,["elementClick","modalSuccess"].forEach((e=>{n[e]&&n[e].context&&(n[e].context=k(n[e].context)||null),n[e]&&n[e].saveType&&(n[e].saveType=n[e].saveType.toUpperCase()),n[e]&&n[e].action&&(n[e].action=n[e].action.toUpperCase())})),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach((e=>{n[e]&&n[e].element&&(n[e].element=n[e].element.toUpperCase())})),["modalSuccess"].forEach((e=>{n[e]&&n[e].fields&&(n[e].fields=n[e].fields.map((e=>e.toUpperCase())))})),n)}})}),[c,l,f,T,U,A,L,e,m,R]),f]},R=({children:e,source:s,pageAsContext:t,saveObject:i,trackingContext:o,withSaveSession:r,withOrganizeSession:n})=>{var[l,d]=O({source:s,pageAsContext:t,saveObject:i,trackingContext:o,withSaveSession:r,withOrganizeSession:n});return a(c,{children:e(l,d)})},f=()=>{var[e,s]=t.useState({sessionUuid:n(),sessionOrder:0});return t.useMemo((()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>s((e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1}))),resetSession:()=>s({sessionUuid:n(),sessionOrder:0})})),[e])},U=({children:e})=>{var s=S();return a(d.Provider,{value:s,children:e})},x=({children:e})=>{var s=S();return a(v.Provider,{value:s,children:e})};return[()=>{l={sessionUuid:n(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},d=t.createContext(l),u={sessionUuid:n(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},v=t.createContext(u),p=t.createContext(C),R.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},S=f,e({LogInteractionMutation:w,OrganizeSessionProvider:x,OrganizeSessionTrackingContext:v,SaveSessionProvider:U,SaveSessionTrackingContext:d,SponsorshipTrackingContext:p,TripInteraction:R,getInteractionsContext:k,useTripInteraction:O})},[e=>t=e,e=>i=e.useMutation,e=>o=e.useRoute,e=>r=e.TripTrackingImpression,e=>n=e.uuid,e=>(a=e.jsx,c=e.Fragment)]]},["cDcdfi","5X2em-","F8raOV","c_rvp5","O-HcBE","F5FCuN"]]);
