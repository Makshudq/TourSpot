(this.$WP=this.$WP||[]).push(["mGqah_",(e,a)=>{"use strict";var i,n,o,s,t,r,l,d,u,c,h,v,g,m,p,f,b,N,S,E,R,x,T,w,A,_,k,y,F,H,C,V,D=e=>{var{isOptimusEnabled:a,isOptimusSubscribed:n,fetching:o}=b(),s=p(),t=N(!a||n||!e.includes("Nova")||"en-US"!==s);return i((()=>n||!a?{fetching:o||t.fetching,targeting:"false"}:{fetching:o||t.fetching,targeting:t.cashbackEnabled?"Cashback":"Discount"}),[n,a,o,t])},L=["Hotels","HotelsList","HotelsNear","HotelHighlight","SmartDeals","Hotel_Review","ShowUserReviews","Home","ShowForum","ShowTopic"],O=e=>{var{page:a}=g(),i=S({experimentKeys:["nova_house_ads_holdback_1645552353"]},!L.includes(a)||!e.endsWith("Nova"));return null===i?{isNovaHoldbackEnabled:!1,fetching:!0}:{isNovaHoldbackEnabled:"test"===(null==i?void 0:i.nova_house_ads_holdback_1645552353)&&e.endsWith("Nova"),fetching:!1}},P={novaAd:"VnzpY",square:"ZzXVA",ad:"RnYjA f j u",empty:"ZWKar Xd P0 o",fixMarginBottom:"DLdTM",withMargin:"giWkJ"},j=["Home"],U=({position:e,children:a,aboveTheFold:n=!1})=>{var o=g(),s=p(),t=m(),r=j.includes(o.page)?"3x3":{MOBILE:"300x250|8x8|3x3",TABLET:"728x90|3x3",DESKTOP:"728x90|3x3"}[t],{ref:d,id:u,isEmpty:v,isRendered:f,shouldRenderFallback:b,isDisabled:N}=c({size:r,position:e,aboveTheFold:n,refreshType:"NO_REFRESH"}),S=i((()=>(e=>{switch(e){case"AttractionsFusion":return"fixMarginBottom";case"Hotels":return"withMargin";default:return""}})(o.page)),[o.page]),x=b&&f&&v;return N?null:R("div",{className:l(P.novaAd,{[P[S]]:S}),children:[x&&!a&&E(h,{position:e,locale:s,page:o.page}),x&&a,E("div",{id:u,ref:d,className:l(P.ad,{[P.empty]:v})})]})},B=e=>E("div",{className:l(P.square,P.novaAd),children:E(v,{position:"RailNova",size:"300x250|300x600|3x3",isSticky:e.isSticky})}),W=e=>{var{position:a}=e;return R("div",{"data-automation":`nova-ad-${a}`,children:["InlineNova"===a&&E(U,{...e}),"RailNova"===a&&E(B,{...e})]})},M=e=>{var a=D(e.position),i=k(e.position),n=e.additionalTargeting?{...e.additionalTargeting,PlusEligible:a.targeting,NovaTest:String(i.isNovaHoldbackEnabled)}:{PlusEligible:a.targeting,NovaTest:String(i.isNovaHoldbackEnabled)};return a.fetching||i.fetching?null:E(u,{value:n,children:E(W,{...e})})},z=({position:e,...a})=>E(d,{position:e,children:E(M,{position:e,...a})}),I=({theme:e,onClose:a})=>{var{localize:i}=f();return E("button",{className:l("VtDrB B- _S G-",{EkNQV:"sand"===e,LYjLi:"mint"===e,gopkK:"juniper"===e}),onClick:a,"aria-label":i.string("common_Close"),type:"button",children:E(_,{})})},K=({maxViews:e,storageKey:a,theme:i="mint",onClose:n,onVisible:o,children:l})=>{var{isWebview:d}=A(),[u,c]=s(!1),h=w((()=>{o&&o()})),v=t((()=>{c(!1),T.set(a,e),n&&n()}),[e,n,a]);return r((()=>{var i=T.has(a)?parseInt(T.get(a),10):0;i<e&&(c(!0),T.set(a,i+1))}),[e,a]),!u||d?null:R(H,{theme:i,ref:h,children:[E("div",{className:"GqDUn _U t",children:E(C,{theme:i,onClose:v})}),E("div",{className:"GNxwY w",children:l})]})},Y="SUNova",G=()=>{var{page:e}=g(),a=x(),i=i=>{a({module:"Nova_Forum",context:e,action:i})},{ref:n,id:o,isEmpty:s,isLoaded:t,isDisabled:r}=c({size:"3x3",position:Y,aboveTheFold:!0,refreshType:"NO_REFRESH"});return r?null:E("div",{className:l({fdTDu:!t||s}),children:E(V,{storageKey:"novaForumViewCount",maxViews:2,theme:"nova",onVisible:()=>{i("Nova_Forum_seen")},onClose:()=>{i("Nova_Forum_closed")},children:E("div",{ref:n,id:o,className:l("WanOy")})})})},q=()=>{var e=D(Y),a=k(Y),i={fluidType:"nova",PlusEligible:e.targeting,NovaTest:String(a.isNovaHoldbackEnabled)};return e.fetching||a.fetching?null:E(d,{position:Y,children:E(u,{value:i,children:E(G,{})})})},Z=["MOBILE"],J=["Tourism","Hotel_Review","Restaurants","Restaurants_Review","ShowForum","ShowTopic"],Q=["en-US","fr-FR","en-AU","en-GB","en-CA","fr-CA","es-MX","it-IT","es-ES","ja-JP","ko-KR","zh-Hant-TW","en-IN","de-DE","nl-NL","pt-BR"],X=()=>{var e=g(),{page:a,params:i}=e,{userAgentCategory:n}=A(),o=m(),s=p();return 14281!==(("ShowTopic"===a||"ShowForum"===a)&&i.forumId||0)&&("en-US"===s||!!(Z.includes(n)&&Z.includes(o)&&Q.includes(s)&&J.includes(a)))};return[()=>{k=O,y=n(z),(F=o((({theme:e,children:a},i)=>E("div",{ref:i,className:l("QYpDj f o D s Za",{ZJOYm:"mint"===e,tgbJQ:"sand"===e,ATqso:"juniper"===e,APNAO:"nova"===e}),role:"dialog",children:a})))).displayName="PromoContentContainer",H=F,C=I,V=K,e({NovaStickyAd:q,default:y,useNovaAd:X})},[e=>(i=e.useMemo,n=e.memo,o=e.forwardRef,s=e.useState,t=e.useCallback,r=e.useEffect),e=>l=e.default,e=>(d=e.AdErrorBoundary,u=e.AdTargetingProvider,c=e.useAd,h=e.FallbackSelector,v=e.RailAd),e=>g=e.useRoute,e=>m=e.useViewportCategory,e=>(p=e.useLocale,f=e.useLocalize),e=>b=e.useOptimusEnabledForUser,e=>N=e.useCashbackEnabled,e=>S=e.default,e=>(E=e.jsx,R=e.jsxs),e=>x=e.useGARecorder,e=>T=e.default,e=>w=e.useOnVisible,e=>A=e.useUserAgent,e=>_=e.default]]},["cDcdfi","jSLlaY","dHlxRh","F8raOV","oVKaZR","0DsHEV","v_y45t","tVuenP","S-RL4Q","F5FCuN","fsml46","jaCyxS","PUj9cw","slAn47","2x7WI3"]]);
