(this.$WP=this.$WP||[]).push(["VwUieX",(e,t)=>{"use strict";var r,n,o,a,s,i,l,c,u,p,d,h,f,m,v,g,C,k,P,M,b,I,L,x,y,R,E,O,S,w,Z,z,A,U,W,H,V="ta-maps-google",D=(e,t=[],r={loading:!1})=>{var o=n.useRef(e);n.useEffect((()=>{o.current=e}),[e]);var a=n.useRef(!1);n.useEffect((()=>(a.current=!0,()=>{a.current=!1})),[]);var[s,i]=n.useState(r);return[s,n.useCallback(((...e)=>{i({loading:!0}),o.current(...e).then((e=>(a.current&&i({value:e,loading:!1}),e)),(e=>(a.current&&i({error:e,loading:!1}),e)))}),t)]},N=()=>P(n.useCallback((e=>(async e=>"mock"===e.forceMapProvider?{mapProvider:"mock",mapConfig:{lang:"en",channel:"ta.maps.mock"}}:(await fetch(`/data/1.0/maps/provider?${(e=>{var t=new URLSearchParams;return Object.entries(e).forEach((([e,r])=>{null!=r&&t.set(e,r.toString())})),t})({servletName:e.servletName,locale:e.locale,geoId:e.geoId,forceMapProvider:e.forceMapProvider}).toString()}`,{credentials:"same-origin"})).json())(e)),[])),T=()=>P(n.useCallback((e=>{var t=b[e];return t?t():Promise.reject(Error(`Unknown map provider ${e}`))}),[]),[]),$=e=>{var t=n.useRef(0),r=n.useCallback(((r,n,o)=>{var a=new n;if(a.isLibraryLoaded())return new Promise((e=>e({loaded:!0,wasPreviouslyLoaded:!0})));var s=++t.current;return new Promise((n=>{a.loadLibrary(o,(()=>{if(null==e||e({mapProvider:r}),s!==t.current)throw new Error("Stale map provider request");n({loaded:!0,wasPreviouslyLoaded:!1})}))}))}),[e]),o=P(r);return o[0].loading?[o[0],()=>{}]:o},B=(e,t,r,o)=>{var[a,s]=n.useState(null),[{value:i},c]=M(),[{value:u},p]=I(),[{loading:d,value:h},f]=L(o),m=((e,t,r)=>{var o=l();return n.useRef({servletName:r,locale:o,geoId:t,forceMapProvider:e}).current})(e,t,r),v=h&&h.loaded,g=i&&i.mapProvider,C=i&&i.mapConfig,k=u&&u.MapFactory;n.useLayoutEffect((()=>{c(m)}),[m,c]),n.useLayoutEffect((()=>{g&&p(g)}),[g,p]);var P=d||v;return n.useLayoutEffect((()=>{!P&&g&&C&&k&&f(g,k,{lang:m.locale,channel:"ta.maps",...C})}),[P,m,k,C,g,f]),n.useLayoutEffect((()=>{v&&g&&u&&!a&&s({MapInterfaceClass:u.MapInterface,mapProviderName:g})}),[g,u,a,v]),a},j=({children:e,onVisible:t})=>{var r=s(t);return p(h,{children:e(r)})},F=({forceMapProvider:e,mapInterfaceProps:t,containerRef:r,geoId:o,servlet:a,onMapInterfaceLoaded:s,onMapLibraryLoad:i})=>{var p=c(),d=l(),{userAgentCategory:h}=u(),f=n.useRef(s),m=n.useRef(r),v=n.useRef({...t,isRtl:p,locale:d,userAgentCategory:h});f.current=s,m.current=r,v.current={...t,isRtl:p,locale:d,userAgentCategory:h};var g=x(e,o,a,i),C=g?g.MapInterfaceClass:null,k=g?g.mapProviderName:null;return n.useLayoutEffect((()=>{if(C&&k){var e=new C(m.current,v.current);f.current(e,k)}}),[C,k]),null},G=e=>p(g,{...e}),q=e=>p(E,{children:({map:t})=>p(C,{...e,map:t})}),_=(e,t=0)=>{var r=n.useRef(null),o=n.useRef(e),a=n.useCallback((()=>{r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{o.current()}),t)}),[t]),s=n.useCallback((()=>{r.current&&(clearTimeout(r.current),r.current=null)}),[]);return n.useEffect((()=>{o.current=e}),[e]),[a,s]},X=({zIndexOffset:e,position:t,children:r,onClick:o,onMouseEnter:a,onMouseLeave:s,disableTracking:i,trackingContext:l,className:c,draggable:u,onDrag:d})=>{var{map:h}=n.useContext(y),{trackClick:v,trackHover:g}=n.useContext(O),[C,k]=n.useState(null),[P,M]=n.useState(!1);n.useEffect((()=>{if(!h)return()=>{};var e=h.createMarkerContainer();return k(e),e.getContainer()?M(!0):e.setMarkerReadyCallback((()=>{M(!0)})),()=>{h.removeMarkerContainer(e)}}),[h]),n.useEffect((()=>{C&&C.setZIndexOffset(e)}),[C,e]),n.useEffect((()=>{C&&!t.equals(C.getPosition())&&C.setPosition(t)}),[C,t]),n.useEffect((()=>{C&&C.setDraggable(u)}),[C,u]),n.useEffect((()=>{C&&C.setDragCallback(d)}),[C,d]);var b=n.useCallback((e=>{e.stopPropagation(),i||null==v||v({context:null!=l?l:null}),o&&o()}),[i,l,o,v]),I=n.useCallback((()=>{i||null==g||g({context:null!=l?l:null}),a&&a()}),[i,l,a,g]),[L,x]=U(I,300),R=n.useCallback((()=>{x(),s&&s()}),[s,x]),E=C&&C.getContainer();if(P&&E){var S=p("div",{className:m(c,{_S:!!o}),onClick:b,onTouchEnd:b,onMouseEnter:L,onMouseLeave:R,children:r});return p(z,{value:{position:t},children:f.createPortal(S,E)})}return null},Y=e=>d(W,{position:e.position,zIndexOffset:e.zIndexOffset,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,trackingContext:e.trackingContext,draggable:e.draggable,onDrag:e.onDrag,children:[p(v,{style:{cursor:"pointer",width:`${e.width}px`,height:`${e.height}px`,position:"absolute",left:`-${e.anchor.x}px`,top:`-${e.anchor.y}px`,opacity:e.alpha,transition:e.animated?"width 0.3s, height 0.3s, left 0.3s, top 0.3s":void 0},src:e.src}),e.children]}),J={markerCalloutContainer:"OOIbi d _Q X",topleft:"fVHof",top:"llLSR",topright:"HMnYr",left:"PinZf",right:"qpEEA",bottomleft:"bEDgT",bottom:"HYAbT",bottomright:"xEjWV",noInteraction:"S"},Q=()=>{},K=e=>{if(!e.visible)return null;var t=t=>p(E,{children:({map:r})=>r&&p(k,{direction:e.direction,offset:e.offset,position:t,autoPan:e.autoPan,map:r,zIndexOffset:e.zIndexOffset,disableInteraction:e.disableInteraction,isRtl:e.isRtl,children:e.children})});return e.position?t(e.position):p(A,{children:e=>t(e.position)})};return[()=>{P=D,M=N,b={[V]:()=>t("1lTcUI"),"ta-maps-autonavi":()=>t("q9bHm9"),mock:()=>t("RSaHg-")},I=T,L=$,x=B,R=(y=o({map:null,mapProvider:""})).Provider,E=y.Consumer,O=o({trackClick:null,trackHover:null}),e("MapComponentExport$1",g=class extends n.PureComponent{constructor(...e){super(...e),this.state={mapInterface:null,mapProvider:null,hasBeenVisible:!1},this.onMapInterfaceLoaded=(e,t)=>{null===this.state.mapInterface&&(e.once("renderComplete",(()=>{this.props.onLoad&&this.componentMounted&&e&&this.props.onLoad({map:e})})),e.on("click",(e=>{this.props.onClick&&this.props.onClick(e)})),e.on("centerChange",(e=>{this.props.onCenterChange&&this.componentMounted&&this.props.onCenterChange(e)})),e.on("panStart",(e=>{this.props.onPanStart&&this.props.onPanStart(e)})),e.on("renderComplete",(e=>{this.props.onRenderComplete&&this.props.onRenderComplete(e)})),e.on("zoomChange",(e=>{this.props.onZoomChange&&this.props.onZoomChange(e)})),this.props.initialBounds&&e.setBounds(this.props.initialBounds),this.setState({mapInterface:e,mapProvider:t}))},this.setContainerRef=e=>{this.containerRef||(this.containerRef=e,this.forceUpdate())},this.handleResize=()=>{this.state.mapInterface&&this.state.mapInterface.resize()},this.onVisible=()=>{this.setState({hasBeenVisible:!0})},this.componentMounted=!1,this.containerRef=null}componentDidMount(){var e,t,r,n;this.componentMounted=!0,null==(e=(t=this.props).onMount)||e.call(t,{containerOffsetWidth:null!=(r=null==(n=this.containerRef)?void 0:n.offsetWidth)?r:0})}componentWillUnmount(){var e,t;this.componentMounted=!1;var r=this.state.mapInterface;r&&r.unmount(),null==(e=(t=this.props).onUnmount)||e.call(t)}render(){var e,t,{mapInterface:r,mapProvider:n,hasBeenVisible:o}=this.state,{children:a}=this.props;return d("div",{className:"UaGoi w _Z",style:{touchAction:this.props.disableGestures?"auto":"none"},children:[p(i,{callback:this.handleResize}),(!this.props.lazy||o)&&!!this.containerRef&&p(F,{mapInterfaceProps:{zoom:this.props.initialZoom,center:this.props.initialCenter,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,scrollWheelZoom:this.props.scrollWheelZoom,disableGestures:this.props.disableGestures,styles:this.props.styles,mapId:this.props.mapId},containerRef:this.containerRef,onMapLibraryLoad:this.props.onMapLibraryLoad,onMapInterfaceLoaded:this.onMapInterfaceLoaded,forceMapProvider:this.props.forceMapProvider,servlet:this.props.servlet,geoId:this.props.geoId}),p(j,{onVisible:this.onVisible,children:e=>p("div",{className:"map_container tWxsB w _Z Z0 o",ref:t=>{e.current=t,this.setContainerRef(t)}})}),p(R,{value:{map:r,mapProvider:n||""},children:p(O.Provider,{value:{trackClick:null!=(e=this.props.trackMarkerClick)?e:null,trackHover:null!=(t=this.props.trackMarkerHover)?t:null},children:a})})]})}}),g.defaultProps={initialCenter:new r(0,0),initialZoom:13,initialBounds:null,minZoom:2,maxZoom:19,scrollWheelZoom:!0,disableGestures:!1,lazy:!0,children:[],onLoad:null,onClick:null,onPanStart:null,onCenterChange:null,onZoomChange:null,onRenderComplete:null,onMount:null,onUnmount:null,onMapLibraryLoad:null,trackMarkerClick:null,trackMarkerHover:null},S=G,C=class extends n.PureComponent{constructor(...e){super(...e),this.state={circleOverlay:null}}componentDidMount(){this.handleProps(this.props)}componentDidUpdate(){this.handleProps(this.props)}componentWillUnmount(){var{map:e}=this.props,{circleOverlay:t}=this.state;e&&t&&(e.removeCircleOverlay(t),this.setState({circleOverlay:null}))}handleProps(e){var{circleOverlay:t}=this.state,{map:r}=e;r&&(t||(t=r.addCircleOverlay(this.props),this.setState({circleOverlay:t})),t.setPosition(e.position),t.setRadius(e.radius),t.setFillColor(e.fillColor),t.setStrokeColor(e.strokeColor),t.setStrokeWidth(e.strokeWidth),t.setOpacity(e.opacity))}render(){return null}},w=q,z=(Z=o({position:null})).Provider,A=Z.Consumer,U=_,X.defaultProps={zIndexOffset:0,children:null,onClick:void 0,onMouseEnter:void 0,onMouseLeave:void 0,disableTracking:!1,trackingContext:void 0,className:void 0,draggable:!1},W=X,Y.defaultProps={zIndexOffset:0,draggable:!1,animated:!1,children:null,onMouseEnter:null,onMouseLeave:null,onClick:null,alpha:1,trackingContext:null},H=a(Y),k=class extends n.PureComponent{constructor(...e){super(...e),this.hasAutoPanned=!1,this.checkAutoPan=e=>{if(e&&this.props.autoPan&&!this.hasAutoPanned){this.hasAutoPanned=!0;var t=e.offsetWidth,r=e.offsetHeight;this.props.map.panIntoView(this.props.position,((e,t,r,n)=>{var o={left:t/2,right:t/2,top:r/2,bottom:r/2};return e.includes("left")&&(n?(o.left=0,o.right=t):(o.left=t,o.right=0)),e.includes("right")&&(n?(o.left=t,o.right=0):(o.left=0,o.right=t)),e.includes("top")&&(o.top=r,o.bottom=0),e.includes("bottom")&&(o.top=0,o.bottom=r),o})(this.props.direction,t,r,this.props.isRtl))}}}render(){var{direction:e,position:t,zIndexOffset:r,offset:n,children:o,disableInteraction:a,isRtl:s}=this.props,i=J[e],l={marginTop:n.y};return l[s?"marginRight":"marginLeft"]=n.x,p(W,{position:t,zIndexOffset:r,disableTracking:!0,children:p("div",{ref:this.checkAutoPan,className:`${J.markerCalloutContainer} ${a?J.noInteraction:""} ${i}`,style:l,onClick:Q,onMouseEnter:Q,onMouseLeave:Q,children:o})})}},K.defaultProps={position:null,autoPan:!0,visible:!0,offset:{x:0,y:0},zIndexOffset:99999999,disableInteraction:!1,isRtl:!1},e({CircleOverlay:w,IconMarker:H,MapComponent:S,MapContext:y,MapContextConsumer:E,MapContextProvider:R,MapProviderGoogle:V,Marker:W,Popup:K})},[t=>{r=t.LatLng,e({LatLng:t.LatLng,LatLngBounds:t.LatLngBounds,Util:t.Util})},t=>e("MapInterface",t.MapInterface),e=>(n=e,o=e.createContext,a=e.memo),e=>s=e.useOnVisible,e=>i=e.default,e=>(l=e.useLanguage,c=e.useRtl),e=>u=e.useUserAgent,e=>(p=e.jsx,d=e.jsxs,h=e.Fragment),e=>f=e.default,e=>m=e.default,e=>v=e.CdnImage]]},["A8AD3f","kI6OFW","cDcdfi","PUj9cw","w4JHTr","0DsHEV","slAn47","F5FCuN","faye7n","jSLlaY","XBOpq0"]]);
