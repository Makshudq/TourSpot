(this.$WP=this.$WP||[]).push(["pEsgbX",(e,l)=>{"use strict";var r,a,i,s,n,t,c,d,o,u,p,m,v,h,N,f,_,b,g,w,C,x,R,y,k,D,T,L,B,E,O,M,V,I,F,A,G="ipzRb",S=115,U=e=>{var l=e.replace(/\n/g," ");if(l.length<=S)return l;var r=(e=>e.substr(0,S))(l);if(!e.includes("")||r.includes(""))return r;var a=l.indexOf(""),i=l.substr(a-S,S),s=Math.max(0,i.indexOf(" "));return`...${i=i.substr(s,a-s)}`},W=({item:e,index:l,numReviews:r,servletName:a,onClick:i})=>{var s,d=1===r,o=2===r,p=n(),m=t((()=>p({module:a,action:"supplier_review_scroll",context:(l+1).toString()})));return x("div",{className:c(d?"xSRnC":o?"btdPp":!o&&"VQOzr","ngLDz B1 Z BB F_","reviewContainer"),children:[R("img",{src:e.avatarUrl,alt:e.screenName,className:d?"KOtWJ":"iNFeA"}),x("div",{className:c(d?"oEmaA":o?"AnbCQ":!o&&"ZCdxF"),children:[R("div",{children:e.screenName}),R("div",{className:"b",children:e.location}),R("span",{className:c("vKNLt",G),children:R(w,{color:"primaryIcon"})}),e.publishedReviews,R("span",{className:c("vpNlE",G),children:R(C,{color:"primaryIcon"})}),e.helpfulVotes]}),x("div",{ref:m,className:d?"nqnxF":"",children:[R("div",{className:"tMNYD b o W q",children:e.displayTitle}),R("div",{className:"eINtZ",children:R(b,{variant:"supporting-01",children:x(g,{contentLanguage:"''",children:[R("span",{dangerouslySetInnerHTML:{__html:(s=U(e.displayText||""),(s||"").replace(/[&<>"'\n\u0086\u0087]|&#?[0-9a-zA-Z]+;/g,(e=>L[e]||e)))}}),(e.displayText||"").length>S&&R("span",{dangerouslySetInnerHTML:{__html:"&hellip;"}})]})})}),R(u,{onClick:()=>i(e,l),marginTop:"spacing-02",children:R(f,{id:"common_Read_more"})})]})]},e.reviewId)},H="xpQrL Cj",P=({avatarUrl:e,screenName:l,publishedReviews:r,helpfulVotes:a})=>x("div",{className:"CBkct",children:[R("img",{src:e,className:"BEBHY Rb",alt:""}),x("div",{className:"lwarf",children:[l,x("div",{children:[R("span",{className:c("gVCvS",H),children:R(w,{})}),r,R("span",{className:c("hYFeu",H),children:R(C,{})}),a]})]})]}),K=({rating:e,relativePublishedDate:l,dateText:r,mobile:a})=>e?x("div",{className:"MC",children:[R(d,{rating:e}),R("span",{className:"feObe",children:R(f,{id:"relative_dates_reviewed_caps_fffff175",args:{0:l||r||""}})}),a&&x("span",{className:"EaUMv _T q",children:[R("span",{className:"tZaPg Nb",children:R(k,{})}),R(f,{id:"via_mobile_15d0"})]})]}):null,Z=({review:e})=>e?x("div",{className:"FcVlw",children:[R(O,{rating:e.rating||0,relativePublishedDate:e.relativePublishedDate||"",dateText:e.dateText||"",mobile:e.mobile||!1}),R("div",{className:"HFiZX b",children:e.displayTitle}),null!==e.productName&&R(b,{variant:"supporting-01",marginBottom:"spacing-02",children:R(f,{id:"attractions_review_of_activity",args:{activityName:R("span",{className:"KdqUK",children:e.productName||""})}})}),void 0!==e.displayText&&R(b,{variant:"supporting-01",marginBottom:"spacing-02",children:e.displayText}),null!==e.experienceDate&&x("div",{className:"gFZLs",children:[R("span",{className:"MvUsH b",children:R(f,{id:"supplier_trust_module_date_of_experience"})}),e.experienceDate]}),(e.photoUrls||[]).filter(Boolean).map((l=>R("img",{alt:e.productName,src:l,className:"WwGGF"},l))),R("div",{className:"Lebhc i",children:R(f,{id:"userreviewbody_26ec"})})]}):null,j=({onClose:e,review:l})=>x(y,{width:"800px",closeIconColor:"TA_GREEN_DARK",onClose:e,children:[R(E,{avatarUrl:l.avatarUrl||"",screenName:l.screenName||"",publishedReviews:l.publishedReviews||0,helpfulVotes:l.helpfulVotes||0}),R(M,{review:l})]}),q=({count:e})=>{var l=R(f,{id:"supplier_trust_module_explanation_no_review"});return e>5?l=R(f,{id:"supplier_trust_module_explanation_more_than_5_reviews"}):e>0&&(l=R(f,{id:"supplier_trust_module_explanation_5_or_less_reviews"})),R("p",{className:"UwniM",children:R(b,{elementType:"span",variant:"expressive-body-01",children:l})})},z=({supplierData:e})=>R(u,{href:e.supplierUrl,target:"_blank",children:R(b,{variant:"body-01",children:R(f,{id:"attractions.merchandising.by_non_imperative",args:{supplier:e.supplierName||""}})})}),Q=({supplierData:e,servletName:l,modalOpen:i,clickedReview:s,onClick:n,onClose:t})=>{var d="MOBILE"===N(),u=r(null),g=r(null),w=r(null),[C,y]=a(!1),[k,D]=a(!0),{localize:T}=_();return e?x("div",{className:"Gi",children:[R("div",{className:"YTuGA",children:R(b,{variant:"title-03",children:R(f,{id:"supplier_trust_module_title"})})}),x("div",{className:"zrQbB",children:[R(q,{count:e.productReviewCount}),x("div",{className:"mMpZa Gi",children:[R("div",{className:"woVHH b Cj",children:R(z,{supplierData:e})}),R("div",{className:"mLFQe",children:R(o,{rating:e.overallRating,numReviews:e.totalReviewCount,url:"#REVIEWS"})}),e.hasCertificateOfExcellence&&x("div",{children:[R("span",{className:"HGaal",children:R(h,{color:"primaryIcon"})}),R("span",{className:"tpvpF",children:R(f,{id:"CertExcellence_ffffdc53"})})]}),!d&&C&&R("span",{className:"CeVbq",children:R(p,{variant:"primary-border","aria-label":T.string("common_Previous"),onClick:()=>{u.current&&(u.current.scrollLeft-=245)},ref:w,icon:v})}),!d&&e.supplierReviews.length>3&&k&&R("span",{className:"jzkHQ",children:R(p,{variant:"primary-border","aria-label":T.string("common_Next"),onClick:()=>{u.current&&(u.current.scrollLeft+=245)},ref:g,icon:m})}),x("div",{onScroll:()=>{if(u.current){u.current.scrollLeft<=0?y(!1):D(!0);var e=Math.ceil(u.current&&u.current.scrollLeft);u.current&&e>=u.current.scrollWidth-u.current.offsetWidth?D(!1):u.current&&u.current.scrollLeft>0&&y(!0)}},className:c("NbNWG f","tourOperatorReviews"),ref:u,children:[(e.supplierReviews||[]).map(((r,a)=>R(B,{index:a,item:r,numReviews:e.supplierReviews.length,servletName:l,onClick:n},r.reviewId))),i&&R(V,{onClose:t,review:s})]})]})]})]}):null},X=({servletName:e,returnEmpty:l,supplierData:r,modalOpen:a,clickedReview:i,onClick:s,onClose:c})=>{var d=n(),o=t((()=>{d({module:e,action:"in_view"})}));return R("div",{ref:o,children:!l&&R(I,{supplierData:r,servletName:e,modalOpen:a,clickedReview:i,onClick:s,onClose:c})})},Y={__key:0xb3304af4b876,id:"b3304af4b876b99117c2cc419a6a7744",loc:{},definitions:[]},$=()=>{var e=T(),l={query:Y,variables:{locationId:(null==e?void 0:e.supplierId)||0}},[r]=D(l);return i((()=>{if(!e)return null;var{data:l}=r,a=l&&l.coeAward&&l.coeAward[0];return{...e,hasCertificateOfExcellence:!!a}}),[r,e])},J="SupplierTrustModule",ee=()=>{var e=n(),[l,r]=a(!1),[i,t]=a({}),c=s(((l,a)=>{e({module:J,action:"click_read_more",context:(a+1).toString()}),t(l),r(!0)}),[e]),d=s((()=>{e({module:J,action:"click_close"}),r(!1),t({})}),[e]),o=A();return o&&o.supplierId&&o.supplierReviews&&0!==o.supplierReviews.length?R(F,{servletName:J,returnEmpty:!1,supplierData:o,modalOpen:l,clickedReview:i,onClick:c,onClose:d}):null};return[()=>{L={"":'<span class="eTXXL Gj">',"":"</span>","\n":"<br>","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B=W,E=P,O=K,M=Z,V=j,I=Q,F=X,A=$,e("default",ee)},[e=>(r=e.useRef,a=e.useState,i=e.useMemo,s=e.useCallback),e=>n=e.useGARecorder,e=>t=e.useOnVisible,e=>c=e.default,e=>(d=e.BubbleRating,o=e.BubbleRatingWithReviewCount),e=>(u=e.BorderlessButton,p=e.CircularButton),e=>m=e.default,e=>v=e.default,e=>h=e.default,e=>N=e.useViewportCategory,e=>(f=e.default,_=e.useLocalize),e=>b=e.default,e=>g=e.DirectionalText,e=>w=e.default,e=>C=e.default,e=>(x=e.jsxs,R=e.jsx),e=>y=e.default,e=>k=e.default,e=>D=e.useQuery,e=>T=e.useSupplierTrustData]]},["cDcdfi","fsml46","PUj9cw","jSLlaY","MBK0so","7yGKf-","l74tu_","AhTrXA","tlBeda","oVKaZR","0DsHEV","VP50Wc","miRpRf","8EkcGf","-MsDxx","F5FCuN","O8LbtK","UOD6rl","5X2em-","f98D2q"]]);
