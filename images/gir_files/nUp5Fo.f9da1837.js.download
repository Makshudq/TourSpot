(this.$WP=this.$WP||[]).push(["nCvudh/nUp5Fo",(e,t)=>{"use strict";var s,r,i,o,a,n,l,d,g,h,c,u,p,m,v,S,f,b,I,w,y,E,T,M,B,A,C,F,L,O,P,x,D,_,R,k,j,N,$,z,H,U,q,W,K,G="ads.testMode";function Q(e){var t=window.performance;t&&t.mark&&t.mark(e)}var V=["3x1","1x1"],X=[],Z=(e,t)=>{Q("ias_v_end");var s=function(e,t,s){var r=window.performance;if(r&&r.measure){r.measure(e,"ias_v_start","ias_v_end");var i=r.getEntriesByName(e)[0];if(i)return i.duration}return null}("ias_latency");if(s){var r={gac:"ias_verify",gaa:"ias_latency",gal:e.toString(),gav:s.toString(),gass:t},i=new URLSearchParams(r);y(i)}},J=55978451,Y=["2mdn.net","amazon-adsystem.com","ampproject.org","celtra.com","doubleclick.net","google.com","googletagservices.com","googlesyndication.com","adsafeprotected.com"],ee=[{width:300,height:250},{width:300,height:600},{width:160,height:600},{width:728,height:90},{width:970,height:250},{width:550,height:1},{width:550,height:310}],te=[{width:320,height:50},{width:300,height:250}];function se(e,t){globalThis.apstag._Q.push([e,t])}var re=[{width:300,height:250},{width:300,height:600},{width:160,height:600},{width:728,height:90},{width:970,height:250}],ie=[{width:320,height:50},{width:300,height:250}],oe=[{width:550,height:310}],ae=[],ne=({onDisableTestMode:e})=>E("div",{className:"PLEmQ D S4 q R2",children:["Ad test mode enabled",T("button",{onClick:e,className:"oYrIp _S Wb B- Q",children:"[Disable]"})]}),le=({children:e})=>{var[t,r]=s({}),i=a((()=>({targeting:t,setTargeting:r})),[t]);return T(H.Provider,{value:i,children:e})},de=({children:e})=>T(M,{children:e}),ge=({children:e})=>{var{browser:t,userAgentCategory:o}=u(),{debugTool:a}=n(d),l=p(),g=h(),[c,m]=s(null),[v,I]=(()=>{var[e,t]=s(!1),o=r((e=>{t(e),b.set(G,e)}),[]);return i((()=>{var e=!0===b.get(G);t(e);var s=b.addListener(G,t);return()=>s()}),[]),[e,o]})(),w=S();i((()=>{googletag&&googletag.cmd.push((()=>{googletag.pubads().updateCorrelator()}))}),[g]);var y="MOBILE"===o?.5:.15;return i((()=>{var e="MOBILE"===o?window.innerHeight:window.innerHeight/2,s=window.innerHeight*y,r={userAgentCategory:o,fetchMargin:`${e}px`,renderMargin:`${s}px`,browserFamily:t.family,domainName:l,recordScriptLoadFailure:w};if(v)m(new k(r));else{var i=[];i.push(new x(r)),i.push(new D(r)),i.push(new P(r)),m(new R(r,i))}}),[t,o,v,l,w,y]),E(W.Provider,{value:c,children:[T(f,{isRubiconEnabled:!0}),E(le,{children:[a&&T(q,{testMode:v,onTestModeChange:I}),v&&T(z,{onDisableTestMode:()=>I(!1)}),T(K,{children:e})]})]})},he={__key:0xe47b7de10017,id:"e47b7de100177531430992d789c646b6",loc:{},definitions:[]};function ce(){var e=g();if(!e)return"-1";var t=b.get("adTargetingUserBucketOverride");return null!=t?t:Math.abs(L(e)%100).toString()}var ue=e=>e.toISOString().substring(0,10),pe=()=>{var{page:e,params:t}=c(),r=h(),{browser:o,userAgentCategory:l}=u(),d=A(),{hotels:g}=C(),p=((e,t)=>a((()=>{if(e.includes("Fusion")){var s;switch(e){case"AttractionsFusion":s="Attractions";break;case"AttractionProductsFusion":s="Attraction_Products";break;case"HotelsFusion":s="Hotels";break;case"HotelsListFusion":s="HotelsList";break;default:s=e}return"MOBILE"===t?`Mobile${s}`:s}return e}),[e,t]))(e,l),m=((e,t)=>a((()=>"Attractions"!==e&&"MobileAttractions"!==e||!(e=>{var t;return!(null!=e&&e.pagee||(null==e||null==(t=e.filters)?void 0:t.length)>0)})(t)?null:"attract_cover"),[e,t]))(p,t),{targeting:v}=n(U),S=F(),[f,b]=s(null),I="geoId"in t&&t.geoId||0,w="detailId"in t&&t.detailId||0,y=ce(),E={hotelTravelInfo:(null==g?void 0:g.checkInDate)&&g.checkOutDate&&{checkInDate:ue(g.checkInDate),checkOutDate:ue(g.checkOutDate),defaultDates:g.defaultDates}||null,locationId:w||I,pageType:p,browserType:o.family,userAgentCategory:l},[{fetching:T,data:M}]=B({query:he,variables:{pageAdsRequestInput:E}});return i((()=>{var e,t=null==M||null==(e=M.gptInfo)?void 0:e[0];if(!T&&t){var{pageLevelTargeting:s,adBase:i,ppid:o}=t;if(s&&i){var a=Object.fromEntries(s.map((e=>{var{key:t,value:s}=e||{};return t&&s?[t,[...s]]:null})).filter(Boolean)),n=Object.fromEntries(Object.entries(v).map((([e,t])=>[e,Array.isArray(t)?t:[t]])));return b({...a,...n,pv_id:[r],sess:[d||null],adBase:i,ppid:o,userBucket:String(y),cover:m,logged_in:null!==S?"true":"false"}),()=>{b(null)}}}}),[M,T,r,d,v,y,m,S]),f};return e("a",ce),[()=>{j=Object.freeze({GPT:{url:"//securepubads.g.doubleclick.net/tag/js/gpt.js",name:"GPT"},RUBICON_MOBILE:{url:"//ads.rubiconproject.com/prebid/13406_Mweb_Display.js",name:"RUBICON_MOBILE"},RUBICON_DESKTOP:{url:"//ads.rubiconproject.com/prebid/13406_Desktop_Display.js",name:"RUBICON_DESKTOP"},AMAZON_PREBID:{url:"//c.amazon-adsystem.com/aax2/apstag.js",name:"AMAZON_PREBID"}}),N=class{constructor({fetchMargin:e="0px",renderMargin:t="0px",scriptSources:s,recordScriptLoadFailure:r=(()=>{})}){this.loadPromise=null,this.fetchMargin=void 0,this.renderMargin=void 0,this.scriptSources=void 0,this.recordScriptLoadFailure=void 0,this.scriptSources=s,this.fetchMargin=e,this.renderMargin=t,this.recordScriptLoadFailure=r}getScriptSources(){return this.scriptSources}getConsent(){return new Promise(((e,t)=>I(w.TARGETING,(()=>e()),(()=>t(new Error("Advertising consent declined"))))))}observe(e,t="0px"){return new Promise((s=>{var r=new IntersectionObserver((e=>{e.reduce(((e,t)=>e||t.isIntersecting),!1)&&(r.disconnect(),s())}),{rootMargin:t,threshold:0});r.observe(e)}))}loadScripts(){return this.loadPromise||(this.scriptSources,this.loadPromise=this.getConsent().then((()=>{var e=this.scriptSources.map((e=>v(e.url,"WP")));return Promise.all(e)})).then((()=>{})).catch((e=>(this.loadPromise=null,this.scriptSources,this.recordScriptLoadFailure(this.scriptSources.map((e=>e.name))),Promise.reject(e))))),this.loadPromise}load(e,t){return t||"undefined"==typeof IntersectionObserver?this.loadScripts():Promise.all([this.observe(e,this.fetchMargin).then((()=>this.loadScripts())),this.observe(e,this.renderMargin).then((()=>console.debug("ScriptLoader:",e,"is in viewport")))])}},O=class{constructor({fetchMargin:e,renderMargin:t,browserFamily:s,recordScriptLoadFailure:r}){this.slotSubscriptions={},this.subscriptions=[],this.ppid=null,this.scriptLoader=void 0,this.confirmSafeFrame=e=>{try{var t,s=null==e||null==(t=e.slot)?void 0:t.getSlotElementId(),r=document.querySelector(`#${s.split(":").join("\\:")} div[id^="google_ads_iframe"] iframe`);if(!(r&&r instanceof HTMLIFrameElement))return;setTimeout((()=>{var t,s,i=r.contentDocument;if(i){var o=i.documentElement,a=Array.from(i.getElementsByTagName("iframe")).filter((e=>e.src&&e.src.includes("ad.doubleclick.net/ddm"))).length>0,n=o&&!!o.getAttribute("amp-version"),l=!!i.getElementById("google_image_div"),d=(null==e||null==(t=e.slot)||null==(s=t.getResponseInformation())?void 0:s.advertiserId)===J;if(!(n||l||d||a)){var g=Array.from(i.scripts).map((e=>e.src.replace(/.*\/\//,"").split(/[/?#]/)[0].split(".").slice(-2).join("."))).filter((e=>-1===Y.indexOf(e))).filter(Boolean);g.length&&console.error("Same-domain ad served with third-party scripts",{slotInfo:e.slot.getResponseInformation(),unapprovedDomains:g})}}}),1500)}catch(e){}},globalThis.googletag=globalThis.googletag||{cmd:[]},this.scriptLoader=new N({fetchMargin:e,renderMargin:t,scriptSources:[j.GPT],recordScriptLoadFailure:r}),googletag.cmd.push((()=>{googletag.pubads().setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:"EDGE"!==s}),googletag.pubads().addEventListener("slotOnload",this.confirmSafeFrame),googletag.pubads().disableInitialLoad(),googletag.enableServices(),googletag.pubads().addEventListener("slotRenderEnded",(e=>{var t,s=null==e||null==(t=e.slot)?void 0:t.getSlotElementId(),r={isRendered:!0,isLoaded:!1,isEmpty:J===(null==e?void 0:e.advertiserId)||(null==e?void 0:e.isEmpty)};s&&r&&this.slotSubscriptions[s]&&(this.slotSubscriptions[s](r,"slotRenderEnded"),this.subscriptions.forEach((e=>e())))})),googletag.pubads().addEventListener("slotOnload",(e=>{var t,s=null==e||null==(t=e.slot)?void 0:t.getSlotElementId(),r={isLoaded:!0};s&&r&&this.slotSubscriptions[s]&&(this.slotSubscriptions[s](r,"slotOnload"),this.subscriptions.forEach((e=>e())))})),googletag.pubads().addEventListener("slotVisibilityChanged",(e=>{var t,s=null==e||null==(t=e.slot)?void 0:t.getSlotElementId(),r={isVisible:!(null==e||!e.inViewPercentage)};s&&r&&this.slotSubscriptions[s]&&(this.slotSubscriptions[s](r,"slotVisibilityChanged"),this.subscriptions.forEach((e=>e())))}))}))}getSlots(){return googletag.pubadsReady?(googletag.pubads().getSlots()||[]).map((e=>{var{advertiserId:t,creativeId:s,lineItemId:r,campaignId:i,creativeTemplateId:o}=e.getResponseInformation()||{};return{id:e.getSlotElementId(),targeting:Object.fromEntries(e.getTargetingKeys().map((t=>[t,e.getTargeting(t)]))),responseInformation:{isCollapser:t&&t===J,advertiserId:t,creativeId:s,lineItemId:r,campaignId:i,creativeTemplateId:o}}})):[]}getSlot(e){return googletag.pubads().getSlots().find((t=>t.getSlotElementId()===e))}addEventListener(e){return this.subscriptions.push(e),()=>{var t=this.subscriptions.indexOf(e);t>-1&&this.subscriptions.splice(t,1)}}createSlot({id:e,elem:t,size:s,targeting:r,aboveTheFold:i}){return googletag.cmd.push((()=>{if(!this.getSlot(e)){var{adBase:t,ppid:i,...o}=r;null!==i&&(googletag.pubads().setPublisherProvidedId(i),this.ppid=i);var a=function(e){return[...e.split("|").map((e=>{var t=e.split("x");return[parseInt(t[0],10),parseInt(t[1],10)]})),"fluid"]}(s),n=googletag.defineSlot(t,a,e);if(n){var l;if(null==n.updateTargetingFromMap||n.updateTargetingFromMap(o),n.setTargeting("refreshCount","0"),null==n.getTargetingKeys||null==(l=n.getTargetingKeys())||!l.length)return void this.broadcastEmptySlot(e);n.setForceSafeFrame(!1),n.addService(googletag.pubads()),n.setCollapseEmptyDiv(!0),googletag.display(e)}}})),this.scriptLoader.load(t,i).then((()=>{this.refreshSlot(e)})).catch((()=>{this.broadcastEmptySlot(e)})),{addEventListener:t=>(this.slotSubscriptions[e],this.slotSubscriptions[e]=t,()=>{delete this.slotSubscriptions[e]})}}refreshSlot(e){this.broadcastRefreshStart(e),googletag.cmd.push((()=>{var t=this.getSlot(e);if(t){var s=()=>{googletag.pubads().refresh([t],{changeCorrelator:!1}),t.setTargeting("refreshCount",String(parseInt(t.getTargeting("refreshCount")[0],10)+1))};!function(e){var t=e.getSlotElementId(),[,s,r]=t.split(":");return!(V.includes(s)||X.includes(r))}(t)?s():function(e){return new Promise((t=>{Q("ias_v_start");var s=[];e.getSizes().forEach((e=>{"string"!=typeof e&&s.push(e)}));var r=s.map((e=>e.getWidth&&e.getHeight?`${e.getWidth()}.${e.getHeight()}`:"1.1")),i=`https://pixel.adsafeprotected.com/services/pub?${["anId=930842",`slot={id:${e.getSlotElementId()},ss:[${r.toString()}],p:${e.getAdUnitPath()}}`,`wr=${window.innerWidth}.${window.innerHeight}`,`sr=${window.screen.width}.${window.screen.height}`].join("&")}`,[o]=e.getTargeting("PageType"),a=setTimeout((()=>{Z(!0,o),t()}),2e3);fetch(i,{credentials:"same-origin",headers:{"X-Purpose":"review"}}).then((e=>e.json())).then((s=>{s.code&&s.message&&(console.error(`Error in IAS response. Code: ${s.code}. Message: ${s.message}`),t()),clearTimeout(a),Z(!1,o);var{fr:r,brandSafety:i}=s,{id:n,vw:l}=s.slots.slot,d=b.get(G),g=b.get("ads.disableFraudDetection");d||g||e.setTargeting("fr",r),e.setTargeting("id",n),e.setTargeting("vw",l),e.updateTargetingFromMap(i),t()})).catch((e=>{console.error(`Error fetching IAS response. ${e}`),t()}))}))}(t).then(s)}}))}destroySlot(e){googletag.cmd.push((()=>{var t=this.getSlot(e);t&&(googletag.destroySlots([t]),this.subscriptions.forEach((e=>e())))}))}broadcastRefreshStart(e){var t,s;null==(t=(s=this.slotSubscriptions)[e])||t.call(s,{},"slotRefreshStart")}broadcastEmptySlot(e){var t,s;null==(t=(s=this.slotSubscriptions)[e])||t.call(s,{isEmpty:!0,isLoaded:!0,isRendered:!0},"forcedEmpty")}},P=class{constructor(e){this.context=void 0,this.config=void 0,this.rubiconSupportedFormats=void 0,globalThis.pbjs=globalThis.pbjs||{que:[]},this.config=e,this.context=null,this.rubiconSupportedFormats="MOBILE"===e.userAgentCategory?te:ee}setContext(e){this.context=e}getScripts(e=!0){return e?["MOBILE"===this.config.userAgentCategory?j.RUBICON_MOBILE:j.RUBICON_DESKTOP]:[]}slotSupportsBidding(e){var t=[];return e.getSizes().forEach((e=>{"string"!=typeof e&&t.push(e)})),!!Array.isArray(t)&&t.map((e=>({width:e.getWidth(),height:e.getHeight()}))).some((e=>this.rubiconSupportedFormats.some((t=>t.width===e.width&&t.height===e.height))))}refreshSlot(e,t,s){googletag.cmd.push((()=>{var r,i=null==(r=this.context)?void 0:r.getSlot(e);i&&this.slotSupportsBidding(i)?(()=>{var[e=""]=i.getTargeting("loctype"),[t=""]=i.getTargeting("platform");pbjs.que.push((()=>{pbjs.rp.requestBids({callback:()=>{s()},timeout:2e3,gptSlotObjects:[i],data:{inventory:{loctype:e,platform:t}}})}))})():t()}))}},$={init(){se("i",arguments)},fetchBids(){se("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]},x=class{constructor(e){this.context=void 0,this.config=void 0,this.amazonSupportedFormats=void 0,this.getScripts=e=>e?[j.AMAZON_PREBID]:[],this.config=e,this.context=null,globalThis.apstag=globalThis.apstag||$,this.amazonSupportedFormats="MOBILE"===e.userAgentCategory?ie:re,apstag.init({pubID:"3940",adServer:"googletag",videoAdServer:"DFP",useSafeFrames:!0,deals:!0})}setContext(e){this.context=e}slotSupportsBidding(e){var t=[];return e.getSizes().forEach((e=>{"string"!=typeof e&&t.push(e)})),!!Array.isArray(t)&&t.map((e=>({width:e.getWidth(),height:e.getHeight()}))).some((e=>this.amazonSupportedFormats.some((t=>t.width===e.width&&t.height===e.height))))}refreshSlot(e,t,s){googletag.cmd.push((()=>{var r,i=null==(r=this.context)?void 0:r.getSlot(e);i&&this.slotSupportsBidding(i)?(()=>{var e=[];i.getSizes().forEach((t=>{"string"!=typeof t&&e.push(t)}));var t=e.map((e=>[e.getWidth(),e.getHeight()]));apstag.fetchBids({slots:[{slotID:i.getSlotElementId(),slotName:i.getAdUnitPath(),sizes:t}],timeout:2e3},(()=>{apstag.setDisplayBids(),s()}))})():t()}))}},D=class extends x{constructor(e){super(e),this.amazonSupportedFormats="MOBILE"===e.userAgentCategory?ae:oe}refreshSlot(e,t,s){googletag.cmd.push((()=>{var r,i=null==(r=this.context)?void 0:r.getSlot(e);i&&this.slotSupportsBidding(i)?(()=>{var e=[];i.getSizes().forEach((t=>{"string"!=typeof t&&e.push({width:t.getWidth(),height:t.getHeight()})}));var t={slotID:i.getSlotElementId(),sizes:e,mediaType:"video"};apstag.fetchBids({slots:[t],timeout:2e3},(()=>{apstag.setDisplayBids(),s()}))})():t()}))}},_=class{constructor(){this.skippedServers=0,this.requestedRefresh=!1,this.bidsFetched=0}},R=class extends O{constructor(e,t){super(e),this.servers=void 0,this.slotStatuses=void 0,this.servers=t,this.slotStatuses=new Map;var s=this.servers.flatMap((e=>(e.setContext(this),e.getScripts(!0))));s.length&&(this.scriptLoader=new N({fetchMargin:e.fetchMargin,renderMargin:e.renderMargin,scriptSources:[j.GPT,...s],recordScriptLoadFailure:e.recordScriptLoadFailure}))}createSlot(e){return super.createSlot(e)}skipServer(e){var t=this.slotStatuses.get(e)||new _;t.skippedServers<this.servers.length-1?(t.skippedServers+=1,this.slotStatuses.set(e,t)):(t.requestedRefresh=!0,this.slotStatuses.set(e,t),super.refreshSlot(e))}doRefresh(e){var t=this.slotStatuses.get(e)||new _;t.requestedRefresh||(t.bidsFetched+=1,t.bidsFetched<this.servers.length-t.skippedServers?this.slotStatuses.set(e,t):this.getSlot(e)&&(t.requestedRefresh=!0,this.slotStatuses.set(e,t),super.refreshSlot(e)))}refreshSlot(e){this.slotStatuses.set(e,new _),this.servers.forEach((t=>{t.refreshSlot(e,(()=>this.skipServer(e)),(()=>this.doRefresh(e)))}))}},k=class e extends O{constructor(e){super(e)}static getAdBase(e){return e.replace(/\.s\//,".test.s/")}createSlot({id:t,targeting:s,...r}){return super.createSlot({id:t,targeting:{...s,adBase:e.getAdBase(s.adBase)},...r})}destroySlot(e){super.destroySlot(e)}refreshSlot(e){super.refreshSlot(e)}},z=ne,U=H=o({targeting:{},setTargeting:()=>{}}),q=m.onComponentUsage((()=>t("nCvudh/NMqinK")),"default"),globalThis.googletag=globalThis.googletag||{cmd:[]},W=o(null),K=l(de),e({A:W,P:R,R:P,T:k,a:ce,b:x,c:z,d:ge,e:U,f:le,g:G,u:pe})},[e=>(s=e.useState,r=e.useCallback,i=e.useEffect,o=e.createContext,a=e.useMemo,n=e.useContext,l=e.memo),e=>(d=e.LithiumBootstrapContext,g=e.useDeviceId),e=>(h=e.usePageviewUid,c=e.useRoute),e=>u=e.useUserAgent,e=>p=e.useDomainName,e=>(m=e,v=e.importScript),e=>S=e.useLogAdScriptLoadFailure,e=>f=e.default,e=>b=e.default,e=>(I=e.requestConsent,w=e.CategoriesEnum),e=>y=e.enqueue,e=>(E=e.jsxs,T=e.jsx,M=e.Fragment),e=>B=e.useQuery,e=>A=e.useSessionId,e=>C=e.useTravelInfo,e=>F=e.useUserId,e=>L=e.stringHash]]},["cDcdfi","2R4xv2","F8raOV","slAn47","xDNC3X","pLbCP4","wzAQTx","yP3WOz","jaCyxS","lMO0v3","fsml46","F5FCuN","5X2em-","VJ7DQx","9rUrE8","ukkKxE","O-HcBE"]]);
