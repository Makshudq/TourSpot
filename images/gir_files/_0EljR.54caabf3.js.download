(this.$WP=this.$WP||[]).push(["_0EljR",(e,t)=>{"use strict";var r,n,a,o,i,c,l,s,u,d,p,m,g,k,v,h,I,f,y,T,S,C,N,b,w,D=e=>{var{customData:t,...r}=e;return t&&Object.keys(t).length?{...r,customData:JSON.stringify(t)}:r},x=()=>{return e=l(),t=s(),n=u(),r((()=>({logImpression:t=>e((e=>{var{customData:t,...r}=e;return t&&Object.keys(t).length?{...r,customData:JSON.stringify(t)}:r})(t)),logInteraction:e=>t(D(e)),logInteractionNow:e=>n(D(e))})),[e,t,n]);var e,t,n},O=(e,t)=>{var{type:r="click",subType:n,customData:a}=t,{customData:o,...i}=e,c={...o||{},...a||{}},l={...i,actionType:r};return null!=n&&(l.actionSubType=n),Object.keys(c).length&&(l.customData=c),l},j=()=>{var{eventBase:e}=E(),t=T();return r((()=>null==e?(console.error("useTracking() called outside of a valid <TrackingScope>, no tracking will occur"),{trackImpression:()=>{},trackInteraction:e=>{console.error("trackInteraction() called outside of a valid <TrackingScope>, impression will not be tracked",e)},trackInteractionNow:e=>(console.error("trackInteractionNow() called outside of a valid <TrackingScope>, impression will not be tracked",e),Promise.reject())}):{trackImpression:()=>{var r=JSON.stringify(e);f(r)&&t.logImpression(e)},trackInteraction:r=>{var n=O(e,r),a=JSON.stringify(n);f(a)&&t.logInteraction(n)},trackInteractionNow:r=>{var n=O(e,r),a=JSON.stringify(n),o=y.get(a);if(o)return o;var i=t.logInteractionNow(n);return y.set(a,i),i}}),[e,t])},P=e=>{var t=j();return r((()=>{var{trackInteraction:r,trackInteractionNow:n}=t;return{trackInteraction:()=>r(e),trackInteractionNow:()=>n(e)}}),[t,e])},L=e=>{var{trackImpression:t}=j();return function(e,t=I,r=d){var{timeout:o,threshold:i,rootMargin:c,onceOnly:l}={...I,...t},[s,u]=n(!1),[p,m]=n(!1);return a((()=>{var t;return s&&(t=setTimeout((()=>{p&&l||(e(),m(!0))}),o)),()=>{clearTimeout(t)}}),[s,p,l,e,o]),r(u,c,i)}(t,e||void 0)},E=()=>o(N),B=["page"],G=e=>{var{scopeType:t,team:r,pageName:n,pageGeoId:a,pageLocationId:o,filterId:i,filterIndex:c,shelfId:l,shelfType:s,shelfSlot:u,shelfSlotIndex:d,cardId:p,cardIndex:m,cardType:g,cardExternalKey:k,itemType:v,itemId:h,itemSlot:I,itemSlotIndex:f,itemExternalKey:y,customData:T}=e,S={team:r,page:n,itemType:t};null!=a&&(S.geoId=a),null!=o&&(S.locationId=o);var C=T?{...T}:{};switch(t){case"filter":S.itemId=i,null!=c&&(S.itemPosition=c);break;case"shelf":S.itemName=s,S.itemId=null==l?void 0:l.toString(),S.itemGroup=u,S.itemPosition=d;break;case"shelfCard":S.itemGroup=s,C.shelfType=s,C.shelfId=null==l?void 0:l.toString(),C.shelfSlot=u,C.shelfSlotIndex=d;case"listCard":S.itemName=g,S.itemId=null==p?void 0:p.toString(),S.itemPosition=m,null!=k&&(S.externalKey=k);break;case"item":S.itemName=v,S.itemId=null==h?void 0:h.toString(),null!=I&&(S.itemGroup=I),null!=f&&(S.itemPosition=f),null!=y&&(S.externalKey=y)}return 0!==Object.keys(C).length&&(S.customData=C),S},J=({children:e,options:t})=>p("span",{ref:w(t),children:e}),K=e=>{var t,{scope:n,impressionWhenSeen:o=!0,children:i}=e,c=E(),l=null==c||null==(t=c.scope)?void 0:t.scopeType,s=((e,t)=>(b.get(e)||B).includes(t))(n.scopeType,l),u=r((()=>{if(!s)return C;if(null==(null==c?void 0:c.scope))return"page"===n.scopeType?{scope:n,eventBase:G(n)}:C;var e=((e,t)=>{var r={...e.customData||{},...t.customData||{}};return{...e,...t,...Object.keys(r).length?{customData:r}:{}}})(c.scope,n);return{scope:e,eventBase:G(e)}}),[n,c,s]),{scopeType:d}=n;return a((()=>{s||console.error(`Ignoring ${d} scopeType, as it cannot be a child of ${l} scopeType`)}),[s,d,l]),s?p(N.Provider,{value:u,children:o?p(J,{options:"object"==typeof o?o:void 0,children:i}):i}):p(m,{children:i})},M=e=>{var{target:t,tracking:r,onClick:n,onClickCritical:a,href:o}=e,{isCritical:i,...l}=r||{},s=P(l),u=v();return c((e=>{var r="_self"===t&&null!=o,c=[],l=[];r&&!0===i?c.push((()=>s.trackInteractionNow())):l.push((()=>s.trackInteraction())),null!=a&&(r?c.push(a):l.push(a)),n&&l.push(n),c.length&&(e.preventDefault(),Promise.all(c.map((e=>e()))).then((()=>{null!=o&&u(o)}))),l.map((e=>e()))}),[t,o,s,i,n,a,u])},V=e=>{var{target:t="newTabDesktop",tracking:r,onClick:n,onClickCritical:a,href:o,children:i,...c}=e,l=k(t),s=M({target:l,href:o,onClick:n,onClickCritical:a,tracking:r});return p(g,{...c,href:o,onClick:s,target:l,children:i})};return[()=>{var t,r;h=x,I={rootMargin:0,threshold:0,timeout:500,onceOnly:!0},t=new Set,f=e=>{var r=!t.has(e);return r&&(t.add(e),setTimeout((()=>{t.delete(e)}),5e3)),r},r=new Map,y={get:e=>{var t;return null==(t=r.get(e))?void 0:t.value},set:(e,t)=>{var n;clearTimeout(null==(n=r.get(e))?void 0:n.tid),r.set(e,{value:t,tid:setTimeout((()=>{r.delete(e)}),5e3)})}},T=h,S=j,N=i(C={scope:void 0,eventBase:void 0}),b=new Map([["page",[void 0]],["shelfCard",["shelf"]]]),w=L,e({TrackedLink:V,TrackingScope:K,useImpressionWhenSeen:L,useInteractionTracking:P,useTrackedLinkCallback:M,useTracking:S})},[e=>(r=e.useMemo,n=e.useState,a=e.useEffect,o=e.useContext,i=e.createContext,c=e.useCallback),e=>l=e.useImpressionV3Logger,e=>(s=e.useInteractionV3Logger,u=e.useBlockingInteractionV3Logger),e=>d=e.useVisibleEffect,e=>(p=e.jsx,m=e.Fragment),e=>g=e.default,e=>k=e.useLinkTarget,e=>v=e.useNavigate]]},["cDcdfi","30t50h","fsml46","PUj9cw","F5FCuN","5KqyYa","mGAIj_","1yEXVQ"]]);
