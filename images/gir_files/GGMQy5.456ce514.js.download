(this.$WP=this.$WP||[]).push(["GGMQy5",(e,t)=>{"use strict";var a,r,n,s,o,c,u,i,l,m,g,p,d,C,h,v,_,b,f,w,S,G,T,D={enabled:!1,scriptSrcPath:"/static/gtm/gtm.html",scriptSrcHostDomain:"https://www.jscache.com",scriptSrcQueryParams:""},M={},y={ShowForum:!0,Tourism:!0},P=e=>e.startsWith("hare")||e.match("\\.qa.tripadvisor-preview-?")?b:f,k=e=>{var[t,a]=r(!1);return n((()=>{var t=setTimeout((()=>a(!0)),e);return()=>clearTimeout(t)}),[e]),t},I=()=>{var[e,t]=r(!1);return n((()=>{var e,a=h((a=>{null!=a?t(!0):e=requestIdleCallback((()=>t(!0)))}));return()=>{e&&cancelIdleCallback(e),a&&v(a)}}),[]),e},Q=(e,t)=>{var a=S(),r=d(C.TARGETING),n=w(M[t]||2e3);switch(e){case"control":return!1;case"variant_a":return r&&a;case"variant_b":return r&&(n||a);default:return!1}},R=()=>{var e,t,a=s(null),r=i(),n=R.getGtmConfig(r),d=(t=r,`${(e=n).scriptSrcHostDomain}${e.scriptSrcPath}?gtmParams=${e.scriptSrcQueryParams}&parentDomain=${encodeURIComponent(`https://${t}`)}`),C="google_tag_manager_on_ta_1662733152",h=g({experimentKeys:[C]}),{page:v}=p(),b=null!=h&&h[C]||"",f=R.useDeferGtm(b,v),w=o((()=>((e,t)=>e.enabled&&!!y[t])(n,v)),[n,v])&&f,S=c((e=>{}),[]),G=c((()=>{a.current&&a.current.contentWindow&&T&&(T.port1.onmessage=S,a.current.contentWindow.postMessage("initGTMMessagePort",n.scriptSrcHostDomain,[T.port2]))}),[n.scriptSrcHostDomain,S]);return o((()=>w?_(l,{component:"variant_a"===b?m.gtm_variant_a:m.gtm_variant_b,children:_(u,{src:d,title:"gtm",ref:a,style:{display:"none"},onLoad:G})}):null),[w,d,b,G])},$=()=>a.useCallback((e=>{null==T||T.port1.postMessage(e)}),[]);return[()=>{b={...D,scriptSrcQueryParams:encodeURIComponent("&gtm_auth=bQdYCwDudXrwbnRzFG9SEg&gtm_preview=env-3&gtm_cookies_win=x")},f={...D,enabled:!0},w=k,S=I,G=Q,T="undefined"!=typeof MessageChannel?new MessageChannel:null,R.useDeferGtm=G,R.getGtmConfig=P,e({GoogleTagManager:R,useGTMCallback:$})},[e=>(a=e,r=e.useState,n=e.useEffect,s=e.useRef,o=e.useMemo,c=e.useCallback),e=>u=e.EmbeddedContent,e=>i=e.useDomainName,e=>(l=e.default,m=e.Component),e=>g=e.default,e=>p=e.useRoute,e=>(d=e.useConsent,C=e.CategoriesEnum),e=>(h=e.requestTTICallback,v=e.cancelTTICallback),e=>_=e.jsx]]},["cDcdfi","m5ZZFI","xDNC3X","il7j5o","S-RL4Q","F8raOV","lMO0v3","6NeHQy","F5FCuN"]]);
